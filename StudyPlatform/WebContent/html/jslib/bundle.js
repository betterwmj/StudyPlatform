webpackJsonp([0],[function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.app=exports.dependent=exports.name=void 0;var _angular=__webpack_require__(18),_angular2=_interopRequireDefault(_angular),_angularCookies=__webpack_require__(37),_angularUiRouter=(_interopRequireDefault(_angularCookies),__webpack_require__(39)),_ngMaterial=(_interopRequireDefault(_angularUiRouter),__webpack_require__(38)),_root=(_interopRequireDefault(_ngMaterial),__webpack_require__(87)),_root2=_interopRequireDefault(_root),_commonDialog=__webpack_require__(82),_commonDialog2=_interopRequireDefault(_commonDialog),_login=__webpack_require__(84),_login2=_interopRequireDefault(_login),_tophead=__webpack_require__(131),_tophead2=_interopRequireDefault(_tophead),_teacherIndex=__webpack_require__(123),_teacherIndex2=_interopRequireDefault(_teacherIndex),_teacherIndexHead=__webpack_require__(122),_teacherIndexHead2=_interopRequireDefault(_teacherIndexHead),_registerStudent=__webpack_require__(85),_registerStudent2=_interopRequireDefault(_registerStudent),_registerTeacher=__webpack_require__(86),_registerTeacher2=_interopRequireDefault(_registerTeacher),_teacherCenter=__webpack_require__(118),_teacherCenter2=_interopRequireDefault(_teacherCenter),_homeworkDetail=__webpack_require__(108),_homeworkDetail2=_interopRequireDefault(_homeworkDetail),_teacherManagerClassCreate=__webpack_require__(120),_teacherManagerClassCreate2=_interopRequireDefault(_teacherManagerClassCreate),_teacherAssignStudent=__webpack_require__(117),_teacherAssignStudent2=_interopRequireDefault(_teacherAssignStudent),_teacherPaper=__webpack_require__(130),_teacherPaper2=_interopRequireDefault(_teacherPaper),_teacherPaperNavigation=__webpack_require__(129),_teacherPaperNavigation2=_interopRequireDefault(_teacherPaperNavigation),_publishPaper=__webpack_require__(128),_publishPaper2=_interopRequireDefault(_publishPaper),_paperDetail=__webpack_require__(125),_paperDetail2=_interopRequireDefault(_paperDetail),_paperResult=__webpack_require__(127),_paperResult2=_interopRequireDefault(_paperResult),_paperResultDetail=__webpack_require__(126),_paperResultDetail2=_interopRequireDefault(_paperResultDetail),_studentTest=__webpack_require__(102),_studentTest2=_interopRequireDefault(_studentTest),_studentTestPaper=__webpack_require__(101),_studentTestPaper2=_interopRequireDefault(_studentTestPaper),_studentTestPaperList=__webpack_require__(99),_studentTestPaperList2=_interopRequireDefault(_studentTestPaperList),_teacherHomeworkNavigation=__webpack_require__(110),_teacherHomeworkNavigation2=_interopRequireDefault(_teacherHomeworkNavigation),_homeworkCreate=__webpack_require__(107),_homeworkCreate2=_interopRequireDefault(_homeworkCreate),_homeWorkHistory=__webpack_require__(106),_homeWorkHistory2=_interopRequireDefault(_homeWorkHistory),_teacherHomeworkResultList=__webpack_require__(112),_teacherHomeworkResultList2=_interopRequireDefault(_teacherHomeworkResultList),_teacherHomeworkResultDetail=__webpack_require__(111),_teacherHomeworkResultDetail2=_interopRequireDefault(_teacherHomeworkResultDetail),_onlineAnswer=__webpack_require__(113),_onlineAnswer2=_interopRequireDefault(_onlineAnswer),_teacherOnlineAnswerNavigation=__webpack_require__(115),_teacherOnlineAnswerNavigation2=_interopRequireDefault(_teacherOnlineAnswerNavigation),_teacheronlineHistoryAnswer=__webpack_require__(116),_teacheronlineHistoryAnswer2=_interopRequireDefault(_teacheronlineHistoryAnswer),_teacherClassStudent=__webpack_require__(119),_teacherClassStudent2=_interopRequireDefault(_teacherClassStudent),_teacherUploadFile=__webpack_require__(124),_teacherUploadFile2=_interopRequireDefault(_teacherUploadFile),_studentIndex=__webpack_require__(105),_studentIndex2=_interopRequireDefault(_studentIndex),_studentIndexHead=__webpack_require__(104),_studentIndexHead2=_interopRequireDefault(_studentIndexHead),_studentTestPaperResultDetail=__webpack_require__(100),_studentTestPaperResultDetail2=_interopRequireDefault(_studentTestPaperResultDetail),_studentHomework=__webpack_require__(93),_studentHomework2=_interopRequireDefault(_studentHomework),_studentHomeworkList=__webpack_require__(91),_studentHomeworkList2=_interopRequireDefault(_studentHomeworkList),_studentHomeworkResultDetail=__webpack_require__(92),_studentHomeworkResultDetail2=_interopRequireDefault(_studentHomeworkResultDetail),_studentHomeworkDetail=__webpack_require__(90),_studentHomeworkDetail2=_interopRequireDefault(_studentHomeworkDetail),_onlineQuestion=__webpack_require__(94),_onlineQuestion2=_interopRequireDefault(_onlineQuestion),_studentCenter=__webpack_require__(103),_studentCenter2=_interopRequireDefault(_studentCenter),_teacherUserInfo=__webpack_require__(121),_teacherUserInfo2=_interopRequireDefault(_teacherUserInfo),_publishHomework=__webpack_require__(109),_publishHomework2=_interopRequireDefault(_publishHomework),_teacherOnlineAnswerDetail=__webpack_require__(114),_teacherOnlineAnswerDetail2=_interopRequireDefault(_teacherOnlineAnswerDetail),_studentOnlineNavigation=__webpack_require__(96),_studentOnlineNavigation2=_interopRequireDefault(_studentOnlineNavigation),_studentPostQuestion=__webpack_require__(97),_studentPostQuestion2=_interopRequireDefault(_studentPostQuestion),_studentOnlineAnswerDetail=__webpack_require__(95),_studentOnlineAnswerDetail2=_interopRequireDefault(_studentOnlineAnswerDetail),_studentQuestionHistory=__webpack_require__(98),_studentQuestionHistory2=_interopRequireDefault(_studentQuestionHistory),_adminCenter=__webpack_require__(81),_adminCenter2=_interopRequireDefault(_adminCenter),_schoolNews=__webpack_require__(89),_schoolNews2=_interopRequireDefault(_schoolNews),_schoolNewsDetail=__webpack_require__(88),_schoolNewsDetail2=_interopRequireDefault(_schoolNewsDetail),_courceRescource=__webpack_require__(83),_courceRescource2=_interopRequireDefault(_courceRescource),_http=__webpack_require__(134),_http2=_interopRequireDefault(_http),_router=__webpack_require__(132),settingRouter=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_router),name=exports.name="app",dependent=exports.dependent=["ngCookies","ui.router","ngMaterial","ng"],app=exports.app=_angular2.default.module(name,dependent);app.config(["$cookiesProvider",function($cookiesProvider){var curr=(new Date).getTime();curr+=10368e6,$cookiesProvider.defaults.expires=new Date(curr)}]),(0,_courceRescource2.default)(app),(0,_schoolNews2.default)(app),(0,_schoolNewsDetail2.default)(app),(0,_commonDialog2.default)(app),(0,_root2.default)(app),(0,_login2.default)(app),(0,_tophead2.default)(app),(0,_teacherIndex2.default)(app),(0,_teacherIndexHead2.default)(app),(0,_registerTeacher2.default)(app),(0,_registerStudent2.default)(app),(0,_teacherCenter2.default)(app),(0,_homeworkDetail2.default)(app),(0,_teacherManagerClassCreate2.default)(app),(0,_teacherAssignStudent2.default)(app),(0,_teacherPaper2.default)(app),(0,_teacherPaperNavigation2.default)(app),(0,_teacherUploadFile2.default)(app),(0,_publishPaper2.default)(app),(0,_paperResult2.default)(app),(0,_http2.default)(app),(0,_paperDetail2.default)(app),(0,_paperResultDetail2.default)(app),(0,_teacherHomeworkNavigation2.default)(app),(0,_homeworkCreate2.default)(app),(0,_homeWorkHistory2.default)(app),(0,_teacherHomeworkResultList2.default)(app),(0,_teacherHomeworkResultDetail2.default)(app),(0,_onlineAnswer2.default)(app),(0,_teacherOnlineAnswerDetail2.default)(app),(0,_teacherOnlineAnswerNavigation2.default)(app),(0,_teacheronlineHistoryAnswer2.default)(app),(0,_teacherUserInfo2.default)(app),(0,_teacherClassStudent2.default)(app),(0,_studentIndex2.default)(app),(0,_studentIndexHead2.default)(app),(0,_studentTest2.default)(app),(0,_studentTestPaperList2.default)(app),(0,_studentTestPaper2.default)(app),(0,_studentTestPaperResultDetail2.default)(app),(0,_studentHomework2.default)(app),(0,_onlineQuestion2.default)(app),(0,_studentCenter2.default)(app),(0,_studentHomeworkList2.default)(app),(0,_publishHomework2.default)(app),(0,_studentHomeworkDetail2.default)(app),(0,_studentHomeworkResultDetail2.default)(app),(0,_studentOnlineNavigation2.default)(app),(0,_studentPostQuestion2.default)(app),(0,_studentQuestionHistory2.default)(app),(0,_studentOnlineAnswerDetail2.default)(app),(0,_adminCenter2.default)(app),app.config(["$stateProvider",settingRouter.routerConfig]),app.config(function($mdThemingProvider){$mdThemingProvider.theme("default").primaryPalette("blue").accentPalette("blue").warnPalette("red").backgroundPalette("grey")})},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _promise=__webpack_require__(64),_promise2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_promise);exports.default=function(fn){return function(){var gen=fn.apply(this,arguments);return new _promise2.default(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return _promise2.default.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(203)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/adminCenter/adminCenter.html",controller:["$scope","$element","$state","$cookies","http","$httpParamSerializerJQLike",controller]})}function controller($scope,$element,$state,$cookies,http,$httpParamSerializerJQLike){function delDialog(){return 1==confirm("您真的确定要删除吗？\n\n请确认！")}var init=function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return vm.currentType=vm.types[0],_context.next=3,http.get("GetStudents");case 3:vm.userResult=_context.sent;case 4:case"end":return _context.stop()}},_callee,this)}));return function(){return _ref.apply(this,arguments)}}(),updateStudentInfo=function(){var _ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(userinfo){var data,result;return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.prev=0,data={school_number:userinfo.school_number,realName:userinfo.realName,password:userinfo.password,school:userinfo.school,telephone:userinfo.telephone,studentID:userinfo.userID},_context6.next=4,http.post("UpdateStudent",data);case 4:result=_context6.sent,1==result?http.alert({parent:$element,content:"修改成功"}):(http.alert({parent:$element,content:"修改失败"}),vm.getUser()),_context6.next=11;break;case 8:_context6.prev=8,_context6.t0=_context6.catch(0),http.alert({parent:$element,content:"更新信息异常"});case 11:case"end":return _context6.stop()}},_callee6,this,[[0,8]])}));return function(_x){return _ref6.apply(this,arguments)}}(),updateTeacherInfo=function(){var _ref7=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(userinfo){var data,result;return _regenerator2.default.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,data={teacher_number:userinfo.teacher_number,realName:userinfo.realName,password:userinfo.password,teacherID:userinfo.userID},_context7.next=4,http.post("UpdateTeacher",data);case 4:result=_context7.sent,1==result?http.alert({parent:$element,content:"修改成功"}):(http.alert({parent:$element,content:"修改失败"}),vm.getUser()),_context7.next=11;break;case 8:_context7.prev=8,_context7.t0=_context7.catch(0),http.alert({parent:$element,content:"更新信息异常"});case 11:case"end":return _context7.stop()}},_callee7,this,[[0,8]])}));return function(_x2){return _ref7.apply(this,arguments)}}(),vm=this;vm.userResult=null,vm.isStudent=!0,vm.isTeacher=!1,vm.userinfo=null,vm.isShow=!1,vm.isShow2=!1,vm.isShow3=!1,vm.types=[{label:"学生",value:0},{label:"老师",value:1}],vm.$onInit=init,vm.getUser=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(0!==vm.currentType.value){_context2.next=15;break}return vm.isStudent=!0,vm.isTeacher=!1,_context2.prev=3,_context2.next=6,http.get("GetStudents");case 6:vm.userResult=_context2.sent,_context2.next=13;break;case 9:return _context2.prev=9,_context2.t0=_context2.catch(3),http.alert({parent:$element,content:"获取学生信息失败,"+_context2.t0}),_context2.abrupt("return");case 13:_context2.next=28;break;case 15:if(1!==vm.currentType.value){_context2.next=28;break}return vm.isStudent=!1,vm.isTeacher=!0,_context2.prev=18,_context2.next=21,http.get("GetTeachers");case 21:vm.userResult=_context2.sent,_context2.next=28;break;case 24:return _context2.prev=24,_context2.t1=_context2.catch(18),http.alert({parent:$element,content:"获取老师信息失败,"+_context2.t1}),_context2.abrupt("return");case 28:case"end":return _context2.stop()}},_callee2,this,[[3,9],[18,24]])})),vm.search=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(""!==vm.user_number){_context3.next=4;break}vm.getUser(),_context3.next=10;break;case 4:return 0===vm.currentType.value?(vm.isStudent=!0,vm.isTeacher=!1):(vm.isStudent=!1,vm.isTeacher=!0),_context3.next=7,http.get("GetUserInfoByName",{user_number:vm.user_number,type:vm.currentType.value});case 7:result=_context3.sent,vm.userResult.splice(0,vm.userResult.length),vm.userResult.push(result);case 10:case"end":return _context3.stop()}},_callee3,this)})),vm.addStudent=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var userResult,result;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,http.get("GetUserInfoByName",{user_number:vm.school_number,type:0});case 2:if(null===(userResult=_context4.sent)){_context4.next=7;break}http.alert({parent:$element,content:"改学号已存在"}),_context4.next=11;break;case 7:return _context4.next=9,http.post("StudentRegister",$httpParamSerializerJQLike({school_number:vm.school_number,realName:vm.studentRealName}),{"Content-Type":"application/x-www-form-urlencoded"});case 9:result=_context4.sent,!0===result&&(vm.getUser(),alert("添加学生成功"));case 11:case"end":return _context4.stop()}},_callee4,this)})),vm.addTeacher=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(){var userResult,result;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,http.get("GetUserInfoByName",{user_number:vm.teacher_number,type:1});case 2:if(null===(userResult=_context5.sent)){_context5.next=7;break}http.alert({parent:$element,content:"改教工号已存在"}),_context5.next=11;break;case 7:return _context5.next=9,http.post("TeacherRegister",$httpParamSerializerJQLike({teacher_number:vm.teacher_number,realName:vm.teacherRealName}),{"Content-Type":"application/x-www-form-urlencoded"});case 9:result=_context5.sent,!0===result&&(alert("添加老师成功"),vm.getUser());case 11:case"end":return _context5.stop()}},_callee5,this)})),vm.edit=function(user){vm.userinfo=user,0===vm.currentType.value?(vm.isShow=!0,vm.isShow2=!0,vm.isShow3=!1):(vm.isShow=!1,vm.isShow2=!0,vm.isShow3=!0),vm.style={width:"400px",top:"30%",left:"40%",border:"1px solid #888","box-shadow":"1px 1px 10px black",padding:"10px","font-size":"12px",position:"absolute","text-align":"center",background:"#fff","z-index":11,"border-radius":"1px"};var popLayer=document.getElementById("popLayer");popLayer.style.width=document.body.clientWidth+"px",popLayer.style.height=document.body.clientHeight+"px"},vm.updateStudent=function(){updateStudentInfo(vm.userinfo),vm.isShow=!1,vm.isShow2=!1},vm.dismiss=function(){vm.isShow=!1,vm.isShow2=!1,vm.isShow3=!1,vm.getUser()},vm.updateTeacher=function(){updateTeacherInfo(vm.userinfo),vm.isShow2=!1,vm.isShow3=!1},vm.deleteUser=function(){var _ref8=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8(user){var result;return _regenerator2.default.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(1!=delDialog()){_context8.next=5;break}return _context8.next=3,http.get("DeleteUser",{type:vm.currentType.value,userID:user.userID});case 3:result=_context8.sent,1==result?(http.alert({parent:$element,content:"删除成功"}),vm.getUser()):(http.alert({parent:$element,content:"删除失败"}),vm.getUser());case 5:case"end":return _context8.stop()}},_callee8,this)}));return function(_x3){return _ref8.apply(this,arguments)}}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="adminCenter")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/commonDialog/commonDialog.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller],bindings:{resolve:"<",close:"&",dismiss:"&"}})}function controller($scope,$element,$state,$cookies,http,$stateParams){var vm=this;vm.title="提示信息",vm.content="",vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:vm.content=vm.resolve.content;case 1:case"end":return _context.stop()}},_callee,this)})),vm.ok=function(){vm.close()},vm.cancel=function(){vm.dismiss()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="commonDialog")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/courceRescource/courceRescource.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function previousPage(){vm.currentPage--,getResource()}function nextPage(){vm.currentPage++,getResource()}var getResource=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result,_this=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,http.get("GetRecource",{currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:result=_context3.sent,vm.recourceList=result,0!==result.length&&(vm.recourceList.totalpage=Math.ceil(result[0].count/vm.pageItems),vm.recourceList.forEach(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(item){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:item.createTime=new Date(item.createTime.time);case 1:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}())),_context3.next=11;break;case 8:_context3.prev=8,_context3.t0=_context3.catch(0),http.alert({parent:$element,content:"获取课程资源失败"});case 11:case"end":return _context3.stop()}},_callee3,this,[[0,8]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.recourceList=null,vm.currentPage=1,vm.pageItems=7,vm.previousPage=previousPage,vm.nextPage=nextPage,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:getResource();case 1:case"end":return _context.stop()}},_callee,this)})),vm.download=function(){var _ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(paperId){var dialog;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:dialog=http.confirm({parent:$element,content:"是否下载?"}),dialog.then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var downLink,event;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:downLink=document.getElementById("download_paper"),event=document.createEvent("MouseEvents"),event.initEvent("click",!1,!1),downLink.dispatchEvent(event);case 4:case"end":return _context4.stop()}},_callee4,this)})),function(){});case 2:case"end":return _context5.stop()}},_callee5,this)}));return function(_x2){return _ref4.apply(this,arguments)}}(),$scope.$on("ready_back",function(){$state.go("student.studentIndex")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="courceRescource")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/login/login.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function loginCheck(){return vm.userInfo.user_number?vm.userInfo.password?(vm.userInfo.user_number=vm.userInfo.user_number.trim(),vm.userInfo.password=vm.userInfo.password.trim(),vm.userInfo.user_number&&""!==vm.userInfo.user_number?!(!vm.userInfo.password||""===vm.userInfo.password)||(http.alert({parent:$element,content:"密码不能为空"}),!1):(http.alert({parent:$element,content:"用户名不能为空"}),!1)):(http.alert({parent:$element,content:"密码不能为空"}),!1):(http.alert({parent:$element,content:"用户名不能为空"}),!1)}var login=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var userData,userResult,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!1!==loginCheck()){_context2.next=2;break}return _context2.abrupt("return");case 2:return userData={},angular.copy(vm.userInfo,userData),userData.type=parseInt(userData.type),userResult=null,_context2.prev=6,_context2.next=9,http.get("GetUserInfoByName",{user_number:userData.user_number,type:userData.type});case 9:if(null!==(userResult=_context2.sent)&&""!==userResult.password){_context2.next=13;break}return http.alert({parent:$element,content:"该账号未注册，请先注册"}),_context2.abrupt("return");case 13:_context2.next=19;break;case 15:return _context2.prev=15,_context2.t0=_context2.catch(6),http.alert({parent:$element,content:"检查用户信息失败,"+_context2.t0}),_context2.abrupt("return");case 19:return result=null,_context2.prev=20,_context2.next=23,http.post("Login",userData);case 23:result=_context2.sent,_context2.next=30;break;case 26:return _context2.prev=26,_context2.t1=_context2.catch(20),http.alert({parent:$element,content:"登录失败,"+_context2.t1}),_context2.abrupt("return");case 30:vm.remember&&(result.password=vm.userInfo.password),0===userData.type?($cookies.putObject("userInfo",result),$state.go("student.studentIndex")):1===userData.type?($cookies.putObject("userInfo",result),$state.go("teacher.teacherIndex")):($cookies.putObject("userInfo",result),$state.go("admin.center"));case 32:case"end":return _context2.stop()}},_callee2,this,[[6,15],[20,26]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.userInfo={user_number:"",password:"",type:"0"},vm.subjects=[],vm.loginResultMsg=!1,vm.remember=!0,vm.login=login,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var userInfo;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:userInfo=$cookies.getObject("userInfo"),userInfo&&("0"===userInfo.type?(vm.userInfo.user_number=userInfo.school_number,vm.userInfo.password=userInfo.password):"1"===userInfo.type?(vm.userInfo.user_number=userInfo.teacher_number,vm.userInfo.password=userInfo.password):"2"===userInfo.type&&(vm.userInfo.user_number=userInfo.teacher_number,vm.userInfo.password=userInfo.password),vm.userInfo.type=userInfo.type);case 2:case"end":return _context.stop()}},_callee,this)}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="login")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/registerStudent/registerStudent.html",controller:["$scope","$element","$state","$cookies","http","$httpParamSerializerJQLike",controller]})}function controller($scope,$element,$state,$cookies,http,$httpParamSerializerJQLike){function check(){return vm.userInfo.school_number&&""!==vm.userInfo.school_number.trim()?(vm.userInfo.school_number=vm.userInfo.school_number.trim(),vm.userInfo.realName&&""!==vm.userInfo.realName.trim()?(vm.userInfo.realName=vm.userInfo.realName.trim(),vm.userInfo.password&&""!==vm.userInfo.password.trim()?(vm.userInfo.password=vm.userInfo.password.trim(),vm.userInfo.rePassword!==vm.userInfo.password?(http.alert({parent:$element,content:"两次输入密码不一致"}),!1):vm.userInfo.school&&""!==vm.userInfo.school.trim()?(vm.userInfo.school=vm.userInfo.school.trim(),vm.userInfo.telephone&&""!==vm.userInfo.telephone.trim()?(vm.userInfo.telephone=vm.userInfo.telephone.trim(),!0):(http.alert({parent:$element,content:"手机号不能为空"}),!1)):(http.alert({parent:$element,content:"学校不能为空"}),!1)):(http.alert({parent:$element,content:"密码不能为空"}),!1)):(http.alert({parent:$element,content:"真实姓名不能为空"}),!1)):(http.alert({parent:$element,content:"用户名不能为空"}),!1)}var studentRegister=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,http.post("StudentRegister",$httpParamSerializerJQLike({school_number:vm.userInfo.school_number,realName:vm.userInfo.realName,password:vm.userInfo.password,school:vm.userInfo.school,telephone:vm.telephone}),{"Content-Type":"application/x-www-form-urlencoded"});case 3:result=_context2.sent,!0===result&&$state.go("login"),_context2.next=10;break;case 7:_context2.prev=7,_context2.t0=_context2.catch(0),http.alert({parent:$element,content:"注册失败,"+_context2.t0});case 10:case"end":return _context2.stop()}},_callee2,this,[[0,7]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.userInfo={school_number:"",realName:"",password:"",rePassword:"",school:"",telephone:""},vm.register=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var userResult;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!1!==check()){_context.next=2;break}return _context.abrupt("return");case 2:return userResult=null,_context.prev=3,_context.next=6,http.get("GetUserInfoByName",{user_number:vm.userInfo.school_number,type:0});case 6:if(null!==(userResult=_context.sent)){_context.next=10;break}return http.alert({parent:$element,content:"您不是本校学生，无法注册"}),_context.abrupt("return");case 10:if(userResult.realName===vm.userInfo.realName){_context.next=13;break}return http.alert({parent:$element,content:"请检查您的真实姓名是否正确"}),_context.abrupt("return");case 13:if(""===userResult.password){_context.next=18;break}return http.alert({parent:$element,content:"您已注册，请登录"}),_context.abrupt("return");case 18:studentRegister();case 19:_context.next=24;break;case 21:_context.prev=21,_context.t0=_context.catch(3),http.alert({parent:$element,content:"注册时发生异常"});case 24:case"end":return _context.stop()}},_callee,this,[[3,21]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="registerStudent")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/registerTeacher/registerTeacher.html",controller:["$scope","$element","$state","$cookies","http","$httpParamSerializerJQLike",controller]})}function controller($scope,$element,$state,$cookies,http,$httpParamSerializerJQLike){function checkRegister(){return vm.userInfo.teacher_number?(vm.userInfo.teacher_number=vm.userInfo.teacher_number.trim(),""===vm.userInfo.teacher_number?(http.alert({parent:$element,content:"请输入用户名"}),!1):vm.userInfo.realName?(vm.userInfo.realName=vm.userInfo.realName.trim(),""===vm.userInfo.realName?(http.alert({parent:$element,content:"请输入真实姓名"}),!1):vm.userInfo.password?(vm.userInfo.password=vm.userInfo.password.trim(),""===vm.userInfo.password?(http.alert({parent:$element,content:"请输入密码"}),!1):vm.userInfo.password===vm.userInfo.rePassword||(http.alert({parent:$element,content:"两次输入密码不一致"}),!1)):(http.alert({parent:$element,content:"请输入密码"}),!1)):(http.alert({parent:$element,content:"请输入真实姓名"}),!1)):(http.alert({parent:$element,content:"请输入用户名"}),!1)}var register=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,http.post("TeacherRegister",$httpParamSerializerJQLike({teacher_number:vm.userInfo.teacher_number,realName:vm.userInfo.realName,password:vm.userInfo.password}),{"Content-Type":"application/x-www-form-urlencoded"});case 3:result=_context2.sent,!0===result&&$state.go("login"),_context2.next=10;break;case 7:_context2.prev=7,_context2.t0=_context2.catch(0),http.alert({parent:$element,content:"注册失败"});case 10:case"end":return _context2.stop()}},_callee2,this,[[0,7]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.userInfo={teacher_number:"",realName:"",password:"",rePassword:""},vm.register=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var userResult;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!1!==checkRegister()){_context.next=2;break}return _context.abrupt("return");case 2:return userResult=null,_context.prev=3,_context.next=6,http.get("GetUserInfoByName",{user_number:vm.userInfo.teacher_number,type:1});case 6:if(null!==(userResult=_context.sent)){_context.next=10;break}return http.alert({parent:$element,content:"您不是本校教师，无法注册"}),_context.abrupt("return");case 10:if(userResult.realName===vm.userInfo.realName){_context.next=13;break}return http.alert({parent:$element,content:"请检查您的真实姓名是否正确"}),_context.abrupt("return");case 13:if(""===userResult.password){_context.next=16;break}return http.alert({parent:$element,content:"您已注册，请登录"}),_context.abrupt("return");case 16:register(),_context.next=22;break;case 19:_context.prev=19,_context.t0=_context.catch(3),http.alert({parent:$element,content:"注册时发生异常"});case 22:case"end":return _context.stop()}},_callee,this,[[3,19]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="registerTeacher")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/root/root.html",controller:["$scope","$rootScope","$element","$state","$transitions",controller]})}function controller($scope,$rootScope,$element,$state,$transitions){this.$onInit=function(){$rootScope.teacherActive=[!0,!1,!1,!1],$rootScope.studentActive=[!0,!1,!1,!1]},$scope.$on("request_back",function(){$scope.$broadcast("ready_back")}),$scope.$on("test",function(){$scope.$broadcast("testpaper")}),$scope.$on("homepage_back",function(){$scope.$broadcast("home_back")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="root")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/schoolNewsDetail/schoolNewsDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){var vm=this;vm.msg="",vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:try{vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage,vm.newsDetail=$stateParams.newsDetail}catch(error){http.alert({parent:$element,content:"获取校园动态详情异常"})}case 1:case"end":return _context.stop()}},_callee,this)})),$scope.$on("ready_back",function(){$state.go("student.news",{currentPage:vm.currentPage,pageItems:vm.pageItems,totalpage:vm.totalpage})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="schoolNewsDetail")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/schoolNews/schoolNews.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function previousPage(){vm.currentPage--,getNews()}function nextPage(){vm.currentPage++,getNews()}var getNews=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var _this=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,http.get("GetNews",{currentPage:vm.currentPage,pageItems:vm.pageItems});case 2:vm.newsList=_context3.sent,vm.newsList.forEach(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(item){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:item.creatTime=new Date(item.creatTime.time);case 1:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}()),0===vm.newsList.length&&(vm.newsList.totalpage=0),0!==vm.newsList.length&&(vm.newsList.totalpage=Math.ceil(vm.newsList[0].count/vm.pageItems));case 6:case"end":return _context3.stop()}},_callee3,this)}));return function(){return _ref2.apply(this,arguments)}}(),useinfo=$cookies.getObject("userInfo");$scope.$on("ready_back",function(){"0"===useinfo.type?$state.go("student.studentIndex"):"1"===useinfo.type&&$state.go("teacher.teacherIndex")});var vm=this;vm.newsList=null,vm.currentPage=1,vm.pageItems=5,vm.previousPage=previousPage,vm.nextPage=nextPage,vm.getNews=getNews,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:null!=$stateParams.currentPage&&(vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage),getNews();case 2:case"end":return _context.stop()}},_callee,this)}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="schoolNews")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/homework/studentHomeworkDetail/studentHomeworkDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){var vm=this,index=0;vm.currIndex=0,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.homework={homeWorkName:$stateParams.homeWorkName,homeId:$stateParams.homeworkId},vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID},vm.currentUnfinishPage=$stateParams.currentUnfinishPage,vm.pageItems=$stateParams.pageItems,_context.next=7,http.get("GetHomeworkDetail",{homeworkID:vm.homework.homeId});case 7:vm.homeDetail=_context.sent,vm.curr=vm.homeDetail[index],_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(0),http.alert({parent:$element,content:"初始化页面异常"});case 14:case"end":return _context.stop()}},_callee,this,[[0,11]])})),vm.upOrNext=function(type){"up"===type?(--index,index=index>=0?index:0):(++index,index=index<vm.homeDetail.length?index:--index),vm.curr=vm.homeDetail[index],vm.currIndex=index},vm.submit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var data,result,dialog;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return data={homeworkID:vm.homework.homeId,evaluation:"",homeworkResult:[]},vm.homeDetail.forEach(function(item){data.homeworkResult.push({questionID:item.itemId,answer:item.studentAnswer})}),_context2.prev=2,_context2.next=5,http.post("SubmitHomework",data);case 5:result=_context2.sent,!0===result?(dialog=http.alert({parent:$element,content:"提交作业成功"}),dialog.then(function(){$state.go("student.homework")},function(){$state.go("student.homework")})):http.alert({parent:$element,content:"提交作业失败"}),_context2.next=12;break;case 9:_context2.prev=9,_context2.t0=_context2.catch(2),http.alert({parent:$element,content:"提交作业失败"});case 12:case"end":return _context2.stop()}},_callee2,this,[[2,9]])})),$scope.$on("ready_back",function(){http.confirm({parent:$element,content:"您当前正在做作业，如果离开本页面，作业将不会被保留，请先提交！"}).then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:$state.go("student.studentHomeworkList",{SubjectName:vm.subject.SubjectName,SubjectID:vm.subject.SubjectID,currentUnfinishPage:vm.currentUnfinishPage,pageItems:vm.pageItems});case 1:case"end":return _context3.stop()}},_callee3,this)})),function(){})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentHomeworkDetail")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/homework/studentHomeworkList/studentHomeworkList.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function previousFinishPage(){vm.currentFinishPage--,getFinishData()}function nextFinishPage(){vm.currentFinishPage++,getFinishData()}function previousUnfinishPage(){vm.currentUnfinishPage--,getUnFinishData()}function nextUnfinishPage(){vm.currentUnfinishPage++,getUnFinishData()}function getFinishData(){var newData=[],start=(vm.currentFinishPage-1)*vm.pageItems;console.log("start"+start);for(var i=start;i<start+vm.pageItems;++i){if(i>=vm.homeworkFinishTemp.length)return void(vm.homeworkListFinish=newData);newData.push(vm.homeworkFinishTemp[i])}vm.homeworkListFinish=newData}function getUnFinishData(){for(var newData=[],start=(vm.currentUnfinishPage-1)*vm.pageItems,i=start;i<start+vm.pageItems;++i){if(i>=vm.homeworkUnfinishTemp.length)return void(vm.homeworkListUnFinish=newData);newData.push(vm.homeworkUnfinishTemp[i])}vm.homeworkListUnFinish=newData}var getHomeWork=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,http.get("GetHomework",{subjectId:vm.subject.SubjectID});case 2:return vm.homeworkList=_context2.sent,vm.homeworkList.forEach(function(item){item.finishTime=new Date(item.finishTime.time)}),_context2.next=6,http.get("GetHomeworkResult");case 6:vm.homeworkResults=_context2.sent,vm.homeworkList.forEach(function(homework){vm.homeworkResults.find(function(result){return homework.homeId===result.homework.homeworkId})?vm.homeworkListFinish.push(homework):vm.homeworkListUnFinish.push(homework)}),0===vm.homeworkListFinish.length?(vm.homeworkFinishTemp=vm.homeworkListFinish,vm.homeworkFinishTemp.totalpage=0):(vm.homeworkFinishTemp=vm.homeworkListFinish,vm.homeworkFinishTemp.totalpage=Math.ceil(vm.homeworkFinishTemp.length/vm.pageItems),getFinishData()),0===vm.homeworkListUnFinish.length?(vm.homeworkUnfinishTemp=vm.homeworkListUnFinish,vm.homeworkUnfinishTemp.totalpage=0):(vm.homeworkUnfinishTemp=vm.homeworkListUnFinish,vm.homeworkUnfinishTemp.totalpage=Math.ceil(vm.homeworkUnfinishTemp.length/vm.pageItems),getUnFinishData());case 10:case"end":return _context2.stop()}},_callee2,this)}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.msg="",vm.subject=null,vm.homeworkListUnFinish=[],vm.homeworkListFinish=[],vm.currentUnfinishPage=1,vm.pageItems=5,vm.currentFinishPage=1,vm.previousFinishPage=previousFinishPage,vm.nextFinishPage=nextFinishPage,vm.previousUnfinishPage=previousUnfinishPage,vm.nextUnfinishPage=nextUnfinishPage,vm.homeworkFinishTemp=[],vm.homeworkUnfinishTemp=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var rs;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID},null!=$stateParams.currentUnfinishPage&&(vm.currentUnfinishPage=$stateParams.currentUnfinishPage,vm.pageItems=$stateParams.pageItems),null!=$stateParams.currentFinishPage&&(vm.currentFinishPage=$stateParams.currentFinishPage,vm.pageItems=$stateParams.pageItems,vm.selectedIndex=1),_context.next=6,getHomeWork();case 6:rs=_context.sent,_context.next=12;break;case 9:_context.prev=9,_context.t0=_context.catch(0),http.alert({parent:$element,content:"初始化页面异常"});case 12:case"end":return _context.stop()}},_callee,this,[[0,9]])})),$scope.$on("ready_back",function(){$state.go("student.homework")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentHomeworkList")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/homework/studentHomeworkResultDetail/studentHomeworkResultDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){var vm=this;vm.msg="",vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID},vm.currentFinishPage=$stateParams.currentFinishPage,vm.pageItems=$stateParams.pageItems,vm.homework={homeId:parseInt($stateParams.homeworkId)},_context.next=7,http.get("GetHomeworkResult");case 7:return vm.homeworkResults=_context.sent,vm.homeworkResult=vm.homeworkResults.find(function(item){return item.homework.homeworkId===vm.homework.homeId}),_context.next=11,http.get("GetHomeworkResultDetail",{homeworkResultID:vm.homeworkResult.homework.id});case 11:vm.homeworkResultDetail=_context.sent,_context.next=17;break;case 14:_context.prev=14,_context.t0=_context.catch(0),http.alert({parent:$element,content:"获取学生作业结果详情异常"});case 17:case"end":return _context.stop()}},_callee,this,[[0,14]])})),$scope.$on("ready_back",function(){$state.go("student.studentHomeworkList",{SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID,currentFinishPage:vm.currentFinishPage,pageItems:vm.pageItems})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentHomeworkResultDetail")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/homework/studentHomework/studentHomework.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){var vm=this;vm.msg="",vm.subjects=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var result,i,flag,j;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,http.get("GetAllSubject");case 3:vm.subjects=_context.sent,result=[],vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID},i=0;case 7:if(!(i<vm.subjects.length)){_context.next=21;break}flag=0,j=0;case 10:if(!(j<result.length)){_context.next=17;break}if(result[j].SubjectID!==vm.subjects[i].SubjectID){_context.next=14;break}return flag=1,_context.abrupt("break",17);case 14:j++,_context.next=10;break;case 17:0===flag&&result.push(vm.subjects[i]);case 18:i++,_context.next=7;break;case 21:vm.subjects=result,_context.next=27;break;case 24:_context.prev=24,_context.t0=_context.catch(0),http.alert({parent:$element,content:"初始化页面异常"});case 27:case"end":return _context.stop()}},_callee,this,[[0,24]])})),$scope.$on("ready_back",function(){$state.go("student.studentIndex")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentHomework")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/onlineQuestion/onlineQuestion/onlineQuestion.html",controller:["$scope","$element","$state","$cookies","http","$stateParams","$mdColorPalette",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams,$mdColorPalette){function previousPage(){vm.currentPage--,getClassQuestion()}function nextPage(){vm.currentPage++,getClassQuestion()}var getClassQuestion=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var result,_this2=this;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return console.log(vm.currentClass),_context4.next=3,http.get("GetClassQuestion",{classID:vm.currentClass,currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:result=_context4.sent,vm.questionsList=result,0===result.length&&(vm.questionsList.totalpage=0),0!==result.length&&(vm.questionsList.totalpage=Math.ceil(result[0].count/vm.pageItems),vm.questionsList.forEach(function(){var _ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(item){var studentInfo;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return item.createTime=new Date(item.createTime.time),_context3.next=3,http.get("GetStudents",{userID:item.studentId});case 3:studentInfo=_context3.sent,0!==studentInfo.length&&(item.studentName=studentInfo[0].realName);case 5:case"end":return _context3.stop()}},_callee3,_this2)}));return function(_x2){return _ref4.apply(this,arguments)}}()));case 7:case"end":return _context4.stop()}},_callee4,this)}));return function(){return _ref3.apply(this,arguments)}}(),vm=this;vm.questionsList=null,vm.currentClass=null,vm.getClassQuestion=getClassQuestion,vm.currentPage=1,vm.pageItems=7,vm.previousPage=previousPage,vm.nextPage=nextPage,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var classes,_this=this;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,http.get("GetAllSubject");case 2:classes=_context2.sent,vm.classes=classes,vm.classes.forEach(function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(item){var result;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,http.get("GetClassNameByClassId",{classID:item.classId});case 2:result=_context.sent,null!=result&&(item.className=result.className);case 4:case"end":return _context.stop()}},_callee,_this)}));return function(_x){return _ref2.apply(this,arguments)}}()),null!=$stateParams.currentClass?(vm.currentClass=$stateParams.currentClass,vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage):vm.classes&&vm.classes.length>0&&(vm.currentClass=vm.classes[0].classId),null!=vm.currentClass&&getClassQuestion();case 7:case"end":return _context2.stop()}},_callee2,this)})),$scope.$on("ready_back",function(){$state.go("student.question")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="onlineQuestion")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/onlineQuestion/studentOnlineAnswerDetail/studentOnlineAnswerDetail.html",controller:["$scope","$cookies","$element","$state","http","$stateParams","$mdDialog",controller]})}function controller($scope,$cookies,$element,$state,http,$stateParams,$mdDialog){function init(){vm.onlineQuesionsDetail=$stateParams.onlineQuestionsDetail,vm.currentClass=$stateParams.currentClass,vm.isHistroy=$stateParams.isHistroy,vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage,vm.userinfo=$cookies.getObject("userInfo"),vm.userinfoId=parseInt(vm.userinfo.id),getQuestionReply();var imgInput=document.getElementsByClassName("js_reply_imgs")[0];angular.element(imgInput).bind("change",onSelectImg)}function previousPage(){vm.currentReplyPage--,getQuestionReply()}function nextPage(){vm.currentReplyPage++,getQuestionReply()}function onSelectImg(event){var img=document.getElementsByClassName("js_reply_img_preview")[0],files=event.target.files;if(0===files.length)return void(img.src="");var file=files[0],reader=new FileReader;reader.onload=function(e){img.src=e.target.result},reader.readAsDataURL(file)}var reply=function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var userInfo,content,data,imgInput,formData,imgResult,result;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(userInfo=$cookies.getObject("userInfo"),null!==(content=vm.answerContent)&&""!==content&&void 0!==content){_context.next=5;break}return http.alert({parent:$element,content:"请输入内容"}),_context.abrupt("return");case 5:if(http.wait(),data={answer:vm.answerContent,questionID:$stateParams.onlineQuestionsDetail.id,img:"",answerID:userInfo.id,type:userInfo.type},imgInput=document.getElementsByClassName("js_reply_imgs")[0],!(imgInput.files.length>0)){_context.next=23;break}return _context.prev=9,formData=new FormData,formData.append("img",imgInput.files[0]),_context.next=14,http.submitForm("UploadImage",formData);case 14:imgResult=_context.sent,data.img=imgResult,_context.next=23;break;case 18:return _context.prev=18,_context.t0=_context.catch(9),$mdDialog.hide(),http.alert({parent:$element,content:"图片上传失败"}),_context.abrupt("return");case 23:return _context.prev=23,_context.next=26,http.post("ReplyStudentQuestion",data);case 26:result=_context.sent,!0===result?($mdDialog.hide(),http.alert({parent:$element,content:"回复成功"}).then(function(){vm.answerContent="",imgInput.value="",document.getElementsByClassName("js_reply_img_preview")[0].src="",vm.isShow=!1}),getQuestionReply()):($mdDialog.hide(),http.alert({parent:$element,content:"回复失败"})),_context.next=34;break;case 30:_context.prev=30,_context.t1=_context.catch(23),$mdDialog.hide(),http.alert({parent:$element,content:"回复失败"});case 34:case"end":return _context.stop()}},_callee,this,[[9,18],[23,30]])}));return function(){return _ref.apply(this,arguments)}}(),getQuestionReply=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result,_this=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,http.get("getQuestionAnswer",{questionID:vm.onlineQuesionsDetail.id,currentPage:vm.currentReplyPage,pageItems:vm.replyPageItem});case 3:result=_context3.sent,vm.replyList=result,0===result.length&&(vm.replyList.totalReplypage=0),0!==result.length&&(vm.replyList.totalReplypage=Math.ceil(result[0].count/vm.replyPageItem),vm.replyList.forEach(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(item){var studentInfo,teacherInfo;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(item.answerTime=new Date(item.answerTime.time),0!==item.type){_context2.next=8;break}return _context2.next=4,http.get("GetStudents",{userID:item.answerId});case 4:studentInfo=_context2.sent,0!==studentInfo.length&&(item.realName=studentInfo[0].realName),_context2.next=12;break;case 8:return _context2.next=10,http.get("GetTeachers",{userID:item.answerId});case 10:teacherInfo=_context2.sent,0!==teacherInfo.length&&(item.realName=teacherInfo[0].realName);case 12:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}())),_context3.next=13;break;case 9:return _context3.prev=9,_context3.t0=_context3.catch(0),http.alert({parent:$element,content:"获取回复失败,"+_context3.t0}),_context3.abrupt("return");case 13:case"end":return _context3.stop()}},_callee3,this,[[0,9]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.$onInit=init,vm.isShow=!1,vm.replyList=null,vm.onlineQuesionsDetail=null,vm.currentClass=null,vm.isHistroy=null,vm.imgUrl=null,vm.userinfo=null,vm.reply=reply,vm.currentReplyPage=1,vm.replyPageItem=7,vm.previousPage=previousPage,vm.nextPage=nextPage,vm.showReply=function(){vm.isShow=!vm.isShow,vm.msg=""},vm.goToImgUrl=function(img){http.imgDialog(img)},vm.deleleReply=function(){var _ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(replyId,answerId){var userinfo,dialog;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:userinfo=$cookies.getObject("userInfo"),parseInt(userinfo.id)===answerId&&(dialog=http.confirm({parent:$element,content:"是否删除?"}),dialog.then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var result;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,http.get("DeleteReply",{ReplyID:replyId});case 2:result=_context4.sent,!0===result?getQuestionReply():http.alert({parent:$element,content:"删除失败"});case 4:case"end":return _context4.stop()}},_callee4,this)})),function(){}));case 2:case"end":return _context5.stop()}},_callee5,this)}));return function(_x2,_x3){return _ref4.apply(this,arguments)}}(),$scope.$on("ready_back",function(){!0===vm.isHistroy?$state.go("student.studentQuestionHistory",{currentPage:vm.currentPage,pageItems:vm.pageItems,totalpage:vm.totalpage}):$state.go("student.onlineQuestion",{currentClass:vm.currentClass,currentPage:vm.currentPage,pageItems:vm.pageItems,totalpage:vm.totalpage})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentOnlineAnswerDetail")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/student/onlineQuestion/studentOnlineNavigation/studentOnlineNavigation.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){$scope.$on("ready_back",function(){$state.go("student.studentIndex")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="studentOnlineNavigation")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/onlineQuestion/studentPostQuestion/studentPostQuestion.html",controller:["$scope","$element","$state","$cookies","http","$mdDialog",controller]})}function controller($scope,$element,$state,$cookies,http,$mdDialog){function checkQuestion(){try{return vm.title=vm.title.trim(),vm.content=vm.content.trim(),""===vm.title?(http.alert({parent:$element,content:"请输入标题"}),!1):vm.title.length<5?(http.alert({parent:$element,content:"标题不能少于五个字"}),!1):""===vm.content?(http.alert({parent:$element,content:"请输入内容"}),!1):!(vm.content.length<5)||(http.alert({parent:$element,content:"内容不能少于五个字"}),!1)}catch(error){return http.alert({parent:$element,content:"数据检查异常"+error}),!1}}function dataGroup(data){var groupList=[];return data.forEach(function(item){var findGroup=groupList.find(function(group){return item.SubjectID===group.SubjectID});findGroup||(findGroup={SubjectID:item.SubjectID,SubjectName:item.SubjectName,teacherList:[]},groupList.push(findGroup)),findGroup.teacherList.push({teacherId:item.teacherId,teacherName:item.realName})}),groupList}function onSelectImg(event){var img=document.getElementsByClassName("js_question_img_preview")[0],imgFile=document.getElementsByClassName("js_question_imgs")[0].files[0];if(!imgFile)return void(img.src="");var reader=new FileReader;reader.onload=function(e){img.src=e.target.result},reader.readAsDataURL(imgFile)}var init=function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var userInfo,subjectTeacherData,fileInput;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return userInfo=$cookies.getObject("userInfo"),_context.next=3,http.get("GetAllSubject");case 3:subjectTeacherData=_context.sent,vm.subjectList=dataGroup(subjectTeacherData),0!==vm.subjectList.length&&(vm.currSubject=vm.subjectList[0],vm.currSubjectId=vm.currSubject.SubjectID,vm.currTeacher=vm.currSubject.teacherList[0].teacherId),$scope.$watch("$ctrl.currSubject",function(){vm.currSubject=vm.subjectList.find(function(item){return item.SubjectID===vm.currSubject.SubjectID}),null!=vm.currSubject&&(vm.currTeacher=vm.currSubject.teacherList[0].teacherId)}),fileInput=document.getElementsByClassName("js_question_imgs")[0],angular.element(fileInput).bind("change",onSelectImg);case 9:case"end":return _context.stop()}},_callee,this)}));return function(){return _ref.apply(this,arguments)}}(),postQuestion=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var userInfo,question,imgFile,formData,imgResult,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!1!==checkQuestion()){_context2.next=2;break}return _context2.abrupt("return");case 2:if(http.wait(),userInfo=$cookies.getObject("userInfo"),question={title:vm.title,content:vm.content,img:"",studentId:userInfo.id,teacherID:vm.currTeacher,subjectID:vm.currSubjectId},!(imgFile=document.getElementsByClassName("js_question_imgs")[0].files[0])){_context2.next=21;break}return _context2.prev=7,formData=new FormData,formData.append("img",imgFile),_context2.next=12,http.submitForm("UploadImage",formData);case 12:imgResult=_context2.sent,question.img=imgResult,_context2.next=21;break;case 16:return _context2.prev=16,_context2.t0=_context2.catch(7),http.alert({parent:$element,content:"图片上传失败"}),$mdDialog.hide(),_context2.abrupt("return");case 21:return _context2.prev=21,_context2.next=24,http.post("PostStudentQuestion",question);case 24:result=_context2.sent,$mdDialog.hide(),http.alert({parent:$element,content:"提交成功"}).then(function(){$state.go("student.studentQuestionHistory")}),_context2.next=33;break;case 29:_context2.prev=29,_context2.t1=_context2.catch(21),$mdDialog.hide(),http.alert({parent:$element,content:"提交问题失败"});case 33:case"end":return _context2.stop()}},_callee2,this,[[7,16],[21,29]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.$onInit=init,vm.title="",vm.content="",vm.subjectList=[],vm.currSubject=null,vm.currSubjectId=null,vm.currTeacher=null,vm.imgUrl=null,vm.postQuestion=postQuestion,$scope.$on("ready_back",function(){$state.go("student.question")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentPostQuestion")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/onlineQuestion/studentQuestionHistory/studentQuestionHistory.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function previousPage(){vm.currentPage--,getTeacherQuestion()}function nextPage(){vm.currentPage++,getTeacherQuestion()}var getTeacherQuestion=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result,_this=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,http.get("GetStudentQuestion",{currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:result=_context3.sent,vm.questionsList=result,0!==result.length&&(vm.questionsList.totalpage=Math.ceil(result[0].count/vm.pageItems),vm.questionsList.forEach(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(item){var studentInfo;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return item.createTime=new Date(item.createTime.time),_context2.next=3,http.get("GetStudents",{userID:item.studentId});case 3:studentInfo=_context2.sent,0!==studentInfo.length&&(item.studentName=studentInfo[0].realName);case 5:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}())),_context3.next=11;break;case 8:_context3.prev=8,_context3.t0=_context3.catch(0),http.alert({parent:$element,content:"获取历史数据失败"});case 11:case"end":return _context3.stop()}},_callee3,this,[[0,8]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.questionsList=null,vm.currentPage=1,vm.pageItems=7,vm.previousPage=previousPage,vm.nextPage=nextPage,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:null!==$stateParams.currentPage&&(vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage),getTeacherQuestion();case 2:case"end":return _context.stop()}},_callee,this)})),$scope.$on("ready_back",function(){$state.go("student.question")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentQuestionHistory")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/paper/studentTestPaperList/studentTestPaperList.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function previousFinishPage(){vm.currentFinishPage--,getFinishData()}function nextFinishPage(){vm.currentFinishPage++,getFinishData()}function previousUnfinishPage(){vm.currentUnfinishPage--,getUnFinishData()}function nextUnfinishPage(){vm.currentUnfinishPage++,getUnFinishData()}function getFinishData(){var newData=[],start=(vm.currentFinishPage-1)*vm.pageItems;console.log("start"+start);for(var i=start;i<start+vm.pageItems;++i){if(i>=vm.paperFinishTemp.length)return void(vm.paperFinish=newData);newData.push(vm.paperFinishTemp[i])}vm.paperFinish=newData,console.log("newData"+newData),console.log("newData"+newData.length),console.log("paperFinish"+vm.paperFinish.length)}function getUnFinishData(){for(var newData=[],start=(vm.currentUnfinishPage-1)*vm.pageItems,i=start;i<start+vm.pageItems;++i){if(i>=vm.paperUnfinishTemp.length)return void(vm.paperUnfinish=newData);newData.push(vm.paperUnfinishTemp[i])}vm.paperUnfinish=newData,console.log("newData"+newData.length),console.log("paperUnfinish"+vm.paperUnfinish.length)}var getPaper=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var paperResult;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,http.get("GetPaper",{subjectId:vm.subject.SubjectID});case 2:return vm.papers=_context2.sent,vm.papers.forEach(function(paper){paper.createTime=new Date(paper.createTime.time)}),_context2.next=6,http.get("GetPaperResult");case 6:paperResult=_context2.sent,vm.papers.forEach(function(paper){void 0!==paperResult.find(function(result){if(result.paper.paperId===paper.testpaperID)return paper.resultObj=result,!0})?vm.paperFinish.push(paper):vm.paperUnfinish.push(paper)}),0===vm.paperFinish.length?(vm.paperFinishTemp=vm.paperFinish,vm.paperFinishTemp.totalpage=0):(vm.paperFinishTemp=vm.paperFinish,vm.paperFinishTemp.totalpage=Math.ceil(vm.paperFinishTemp.length/vm.pageItems),getFinishData()),0===vm.paperUnfinish.length?(vm.paperUnfinishTemp=vm.paperUnfinish,vm.paperUnfinishTemp.totalpage=0):(vm.paperUnfinishTemp=vm.paperUnfinish,vm.paperUnfinishTemp.totalpage=Math.ceil(vm.paperUnfinishTemp.length/vm.pageItems),getUnFinishData());case 10:case"end":return _context2.stop()}},_callee2,this)}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.msg="",vm.subject=null,vm.paperUnfinish=[],vm.paperFinish=[],vm.paperLink=null,vm.isDownload=!1,vm.currentUnfinishPage=1,vm.pageItems=5,vm.currentFinishPage=1,vm.previousFinishPage=previousFinishPage,vm.nextFinishPage=nextFinishPage,vm.previousUnfinishPage=previousUnfinishPage,vm.nextUnfinishPage=nextUnfinishPage,vm.paperFinishTemp=[],vm.paperUnfinishTemp=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var rs;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,null!==$stateParams.SubjectName&&(vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID,teacherID:$stateParams.teacherID}),null!=$stateParams.currentUnfinishPage&&(vm.currentUnfinishPage=$stateParams.currentUnfinishPage,vm.pageItems=$stateParams.pageItems),null!=$stateParams.currentFinishPage&&(vm.currentFinishPage=$stateParams.currentFinishPage,vm.pageItems=$stateParams.pageItems,vm.selectedIndex=1),_context.next=6,getPaper();case 6:rs=_context.sent,_context.next=12;break;case 9:_context.prev=9,_context.t0=_context.catch(0),http.alert({parent:$element,content:"初始化页面异常"});case 12:case"end":return _context.stop()}},_callee,this,[[0,9]])})),vm.downloadPaper=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(paperId){var result;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,http.get("DownLoadPaper",{paperID:paperId});case 3:result=_context3.sent,vm.paperLink=result,http.alert({parent:$element,content:"试卷生成成功，文件路径如下：\n"+vm.paperLink+"\n"}).then(function(){var downLink=document.getElementById("download_paper"),event=document.createEvent("MouseEvents");event.initEvent("click",!1,!1),downLink.dispatchEvent(event)}),_context3.next=11;break;case 8:_context3.prev=8,_context3.t0=_context3.catch(0),http.alert({parent:$element,content:"生成试卷异常"});case 11:case"end":return _context3.stop()}},_callee3,this,[[0,8]])}));return function(_x){return _ref3.apply(this,arguments)}}(),$scope.$on("ready_back",function(){$state.go("student.test")}),vm.openMenu=function($mdMenu,ev){$mdMenu.open(ev)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentTestPaperList")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/paper/studentTestPaperResultDetail/studentTestPaperResultDetail.html",controller:["$scope","$element","$state","$cookies","$stateParams","http",controller]})}function controller($scope,$element,$state,$cookies,$stateParams,http){var vm=this;vm.paper=null,vm.resultDetail=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var paperResultList;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,$stateParams.testpaperID=parseInt($stateParams.testpaperID),vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID,teacherID:$stateParams.teacherID},vm.currentFinishPage=$stateParams.currentFinishPage,vm.pageItems=$stateParams.pageItems,_context.next=7,http.get("GetPaperResult");case 7:return paperResultList=_context.sent,vm.paperResult=paperResultList.find(function(item){return item.paper.paperId===$stateParams.testpaperID}),vm.paperResult.paper.time=new Date(vm.paperResult.paper.time.time),_context.next=12,http.get("GetPaperResultDetail",{paperResultID:$stateParams.paperResultID});case 12:vm.resultDetail=_context.sent,_context.next=18;break;case 15:_context.prev=15,_context.t0=_context.catch(0),http.alert({parent:$element,content:"初始化页面异常"});case 18:case"end":return _context.stop()}},_callee,this,[[0,15]])})),$scope.$on("ready_back",function(){$state.go("student.studentTestPaperList",{SubjectName:vm.subject.SubjectName,SubjectID:vm.subject.SubjectID,teacherID:vm.subject.teacherID,currentFinishPage:vm.currentFinishPage,pageItems:vm.pageItems})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentTestPaperResultDetail")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/paper/studentTestPaper/studentTestPaper.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){var vm=this;vm.msg="",vm.subject=null,vm.paper=null,vm.paperDetail=null,vm.questionIndex=0,vm.currQuestion=null,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var userInfo;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return $scope.$emit("test"),_context.prev=1,userInfo=$cookies.getObject("userInfo"),vm.subject={SubjectName:$stateParams.SubjectName,SubjectID:$stateParams.SubjectID,teacherID:$stateParams.teacherID},vm.paper={testpaperID:$stateParams.testpaperID,testName:$stateParams.testName},vm.currentUnfinishPage=$stateParams.currentUnfinishPage,vm.pageItems=$stateParams.pageItems,_context.next=9,http.get("GetPaperDetail",{paperID:vm.paper.testpaperID});case 9:vm.paperDetail=_context.sent,vm.currQuestion=vm.paperDetail[0],_context.next=16;break;case 13:_context.prev=13,_context.t0=_context.catch(1),http.alert({parent:$element,content:"初始化页面异常"});case 16:case"end":return _context.stop()}},_callee,this,[[1,13]])})),vm.changeIndex=function(upOrDown){"up"===upOrDown?(--vm.questionIndex,vm.questionIndex=vm.questionIndex>=0?vm.questionIndex:0):++vm.questionIndex>=vm.paperDetail.length&&(vm.questionIndex-=1),vm.currQuestion=vm.paperDetail[vm.questionIndex]},vm.submitResult=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var userInfo,result,correctAnswer,rs,correctPercent,infor,dialog;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,userInfo=$cookies.getObject("userInfo"),result={paperID:vm.paper.testpaperID,studentID:userInfo.id,score:0,paperresult:[]},correctAnswer=0,vm.paperDetail.forEach(function(item){var studentAnswer=item.studentAnswer;studentAnswer===item.answer&&(result.score+=item.score,correctAnswer+=1),result.paperresult.push({questionID:item.itemId,answer:studentAnswer||""})}),_context2.next=7,http.post("SubmitPaper",result);case 7:rs=_context2.sent,correctPercent=Math.round(correctAnswer/vm.paperDetail.length*100),infor="",correctPercent<20?infor="测试结果不妙，别灰心继续努力哦！":correctPercent<60?infor="革命尚未成功！":correctPercent<80?infor="还需更上一层楼！":correctPercent<90&&(infor="good！"),!0===rs?(dialog=http.alert({parent:$element,content:"提交答案成功! \n正确率"+correctPercent+"% \n"+infor}),dialog.then(function(){$state.go("student.studentTestPaperList",{SubjectName:vm.subject.SubjectName,SubjectID:vm.subject.SubjectID,teacherID:vm.subject.teacherID,currentUnfinishPage:vm.currentUnfinishPage,pageItems:vm.pageItems})},function(){$state.go("student.studentTestPaperList",{SubjectName:vm.subject.SubjectName,SubjectID:vm.subject.SubjectID,teacherID:vm.subject.teacherID,currentUnfinishPage:vm.currentUnfinishPage,pageItems:vm.pageItems})})):http.alert({parent:$element,content:"提交答案失败"}),_context2.next=17;break;case 14:_context2.prev=14,_context2.t0=_context2.catch(0),http.alert({parent:$element,content:"提交答案失败"});case 17:case"end":return _context2.stop()}},_callee2,this,[[0,14]])})),$scope.$on("ready_back",function(){http.confirm({parent:$element,content:"您当前正在做试卷，如果离开本页面，测试将放弃！"}).then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:$state.go("student.studentTestPaperList",{SubjectName:vm.subject.SubjectName,SubjectID:vm.subject.SubjectID,teacherID:vm.subject.teacherID,currentUnfinishPage:vm.currentUnfinishPage,pageItems:vm.pageItems});case 1:case"end":return _context3.stop()}},_callee3,this)})),function(){})}),$scope.$on("home_back",function(){http.confirm({parent:$element,content:"您当前正在做试卷，如果离开本页面，测试将放弃！"}).then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:$state.go("student.studentIndex");case 1:case"end":return _context4.stop()}},_callee4,this)})),function(){})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentTestPaper")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/paper/studentTest/studentTest.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function setColor(){vm.subjects.forEach(function(item){item.color=http.getColor()})}var vm=this;vm.msg="",vm.subjects=[],$scope.$on("ready_back",function(){$state.go("student.studentIndex")}),vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var result,i,flag,j;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,http.get("GetAllSubject");case 3:vm.subjects=_context.sent,result=[],i=0;case 6:if(!(i<vm.subjects.length)){_context.next=21;break}flag=0,j=0;case 9:if(!(j<result.length)){_context.next=16;break}if(result[j].SubjectID!==vm.subjects[i].SubjectID){_context.next=13;break}return flag=1,_context.abrupt("break",16);case 13:j++,_context.next=9;break;case 16:0===flag&&result.push(vm.subjects[i]),console.log(result);case 18:i++,_context.next=6;break;case 21:vm.subjects=result,setColor(),_context.next=28;break;case 25:_context.prev=25,_context.t0=_context.catch(0),http.alert({parent:$element,content:"初始化页面失败"});case 28:case"end":return _context.stop()}},_callee,this,[[0,25]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentTest")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/student/studentCenter/studentCenter.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){var vm=this;vm.userinfo={school_number:"",realName:"",password:"",school:"",telephone:"",studentID:""},vm.classList=[];var classListCopy=[];vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var user,userinfo,classes,_this=this;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,user=$cookies.getObject("userInfo"),_context2.next=4,http.get("GetUserInfoByName",{user_number:user.school_number,type:user.type});case 4:return userinfo=_context2.sent,vm.userinfo=userinfo,_context2.next=8,http.get("GetAllSubject");case 8:return classes=_context2.sent,vm.classes=classes,vm.classes.forEach(function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(item){var result;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,http.get("GetClassNameByClassId",{classID:item.classId});case 2:result=_context.sent,null!=result&&(item.className=result.className);case 4:case"end":return _context.stop()}},_callee,_this)}));return function(_x){return _ref2.apply(this,arguments)}}()),_context2.next=13,http.get("GetClasses");case 13:vm.classList=_context2.sent,vm.classList.forEach(function(itemClass){var find=vm.classes.find(function(ele){return ele.classId==itemClass.classId});itemClass.isCheck=!!find}),angular.copy(vm.classList,classListCopy),_context2.next=21;break;case 18:_context2.prev=18,_context2.t0=_context2.catch(0),http.alert({parent:$element,content:"加载个人信息异常"});case 21:case"end":return _context2.stop()}},_callee2,this,[[0,18]])})),vm.updateinfo=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var data,i,oldItem,item,updateClassdata,_result,result;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:_context3.prev=0,data={school_number:vm.userinfo.school_number,realName:vm.userinfo.realName,password:vm.userinfo.password,school:vm.userinfo.school,telephone:vm.userinfo.telephone,studentID:vm.userinfo.userID},i=0;case 3:if(!(i<classListCopy.length)){_context3.next=26;break}if(oldItem=classListCopy[i],item=vm.classList[i],oldItem.isCheck!==item.isCheck){_context3.next=8;break}return _context3.abrupt("continue",23);case 8:return updateClassdata={typeId:null,studentId:vm.userinfo.userID,classId:item.classId},!0===oldItem.isCheck&&!1===item.isCheck?updateClassdata.typeId=0:updateClassdata.typeId=1,_context3.prev=10,_context3.next=13,http.get("updateStudentClass",updateClassdata);case 13:if(!1!==(_result=_context3.sent)){_context3.next=17;break}return http.alert({parent:$element,content:"更新班级信息失败"}),_context3.abrupt("return");case 17:_context3.next=23;break;case 19:return _context3.prev=19,_context3.t0=_context3.catch(10),http.alert({parent:$element,content:"更新班级信息失败"}),_context3.abrupt("return");case 23:++i,_context3.next=3;break;case 26:return _context3.next=28,http.post("UpdateStudent",data);case 28:result=_context3.sent,1==result?http.alert({parent:$element,content:"修改成功"}):http.alert({parent:$element,content:"修改失败"}),_context3.next=35;break;case 32:_context3.prev=32,_context3.t1=_context3.catch(0),http.alert({parent:$element,content:"修改失败"});case 35:case"end":return _context3.stop()}},_callee3,this,[[0,32],[10,19]])})),$scope.$on("ready_back",function(){$state.go("student.studentIndex")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="studentCenter")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/student/studentIndexHead/studentIndexHead.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){var vm=this;vm.$onInit=function(){vm.userInfo=$cookies.getObject("userInfo")},vm.logout=function(){$state.go("login")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="studentIndexHead")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/student/studentIndex/studentIndex.html",controller:["$scope","$rootScope","$element","$state",controller]})}function controller($scope,$rootScope,$element,$state){this.$onInit=function(){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="studentIndex")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/homework/homeWorkHistory/homeWorkHistory.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function previousPage(){vm.currentPage--,getHomework()}function nextPage(){vm.currentPage++,getHomework()}var getHomework=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,http.get("GetHomework",{currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:vm.homeworks=_context2.sent,0===vm.homeworks.length&&(vm.homeworks.totalpage=0),0!==vm.homeworks.length&&(vm.homeworks.totalpage=Math.ceil(vm.homeworks[0].count/vm.pageItems)),vm.homeworks.forEach(function(item){item.finishTime&&(item.finishTime=new Date(item.finishTime.time))}),_context2.next=12;break;case 9:_context2.prev=9,_context2.t0=_context2.catch(0),http.alert({parent:$element,content:"获取作业列表异常"});case 12:case"end":return _context2.stop()}},_callee2,this,[[0,9]])}));return function(){return _ref2.apply(this,arguments)}}();$scope.$on("ready_back",function(){$state.go("teacher.homework")});var vm=this;vm.currentPage=1,vm.pageItems=7,vm.previousPage=previousPage,vm.nextPage=nextPage,vm.getHomework=getHomework,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:null!=$stateParams.currentPage&&(vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage),getHomework();case 2:case"end":return _context.stop()}},_callee,this)}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="homeWorkHistory")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/homework/homeworkCreate/homeworkCreate.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function checkQuestion(question){var type=question.type;if(""===question.title.trim())return http.alert({parent:$element,content:"请输入题目内容"}),!1;if(1===type){if(""===question.optionA.trim())return http.alert({parent:$element,content:"请输入选项A"}),!1;if(""===question.optionB.trim())return http.alert({parent:$element,content:"请输入选项B"}),!1;if(""===question.optionC.trim())return http.alert({parent:$element,content:"请输入选项C"}),!1;if(""===question.optionD.trim())return http.alert({parent:$element,content:"请输入选项D"}),!1}return!(!question.answer||""===question.answer.trim())||(http.alert({parent:$element,content:"请输入答案"}),!1)}$scope.$on("ready_back",function(){$state.go("teacher.homework")});var vm=this;vm.types=[{label:"选择题",value:1},{label:"判断题",value:2},{label:"简答题",value:3}];var temp={type:vm.types[0].value,title:"",answer:"",optionA:"",optionB:"",optionC:"",optionD:""};vm.homework={name:(new Date).toLocaleString(),finishTime:new Date,questions:[],subjectId:null},vm.questions=[],vm.currentQuestion=(0,_assign2.default)({},temp),vm.currentQuestion.type=vm.types[0].value,vm.questions.push(vm.currentQuestion),vm.currIndex=0,vm.currentSubject=null,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,http.get("GetTeacherSubject");case 2:vm.subjectlist=_context.sent,vm.subjectlist.length>0&&(vm.currentSubject=vm.subjectlist[0].SubjectID);case 4:case"end":return _context.stop()}},_callee,this)})),vm.upItem=function(){0!==vm.currIndex&&(--vm.currIndex,vm.currentQuestion=vm.questions[vm.currIndex])},vm.createNextQuestion=function(){if(!1!==checkQuestion(vm.currentQuestion))if(++vm.currIndex,vm.questions[vm.currIndex])vm.currentQuestion=vm.questions[vm.currIndex];else{var itemTemp=(0,_assign2.default)({},temp);itemTemp.type=vm.types[0].value,vm.questions.push(itemTemp),vm.currentQuestion=itemTemp}},vm.createHomework=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var questionList,list,rs,dialog;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return questionList={titles:[],subjectId:vm.currentSubject},vm.questions.forEach(function(item){var temp=(0,_assign2.default)({},item);temp.type=temp.type,questionList.titles.push(temp)}),_context2.prev=2,_context2.next=5,http.post("AddQuestion",questionList);case 5:return list=_context2.sent,list.forEach(function(item){vm.homework.questions.push({questionID:item.itemId})}),vm.homework.subjectId=vm.currentSubject,_context2.next=10,http.post("CreateHomework",vm.homework);case 10:rs=_context2.sent,!0===rs?(dialog=http.alert({parent:$element,content:"创建作业成功"}),dialog.then(function(){$state.go("teacher.homeWorkHistory")},function(){$state.go("teacher.homeWorkHistory")})):http.alert({parent:$element,content:"创建作业失败"}),_context2.next=17;break;case 14:_context2.prev=14,_context2.t0=_context2.catch(2),http.alert({parent:$element,content:"创建作业失败"});case 17:case"end":return _context2.stop()}},_callee2,this,[[2,14]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2),_assign=__webpack_require__(142),_assign2=_interopRequireDefault(_assign);exports.default=root;var name=(__webpack_require__(0),exports.name="homeworkCreate")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/homework/homeworkDetail/homeworkDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){$scope.$on("ready_back",function(){$state.go("teacher.homeWorkHistory",{currentPage:vm.currentPage,pageItems:vm.pageItems,totalpage:vm.totalpage})});var vm=this;vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.homework={homeWorkName:$stateParams.homeWorkName,homeworkId:$stateParams.homeworkId},vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage,_context.next=7,http.get("GetHomeworkDetail",{homeworkID:vm.homework.homeworkId});case 7:vm.homeworkDetail=_context.sent,_context.next=13;break;case 10:_context.prev=10,_context.t0=_context.catch(0),http.alert({parent:$element,content:"获取作业详情异常"});case 13:case"end":return _context.stop()}},_callee,this,[[0,10]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="homeworkDetail")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/homework/publishHomework/publishHomework.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){$scope.$on("ready_back",function(){$state.go("teacher.homeWorkHistory",{currentPage:vm.currentPage,pageItems:vm.pageItems,totalpage:vm.totalpage})});var vm=this;vm.msg="",vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return vm.homework={homeId:$stateParams.homeworkId},vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage,vm.subjectId=$stateParams.subjectId,_context.prev=5,_context.next=8,http.get("GetTeacherSubjectClass",{subjectId:vm.subjectId});case 8:vm.classes=_context.sent,_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(5),http.alert({parent:$element,content:"获取教师班级信息异常"});case 14:case"end":return _context.stop()}},_callee,this,[[5,11]])})),vm.publish=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var data,result,dialog;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return data={homeworkID:vm.homework.homeId,classesID:[]},vm.classes.forEach(function(item){item.isCheck&&data.classesID.push({classId:item.classId})}),_context2.prev=2,_context2.next=5,http.post("PublishHomework",data);case 5:result=_context2.sent,!0===result?(dialog=http.alert({arent:$element,content:"作业发布成功"}),dialog.then(function(){$state.go("teacher.homeWorkHistory",{currentPage:vm.currentPage,pageItems:vm.pageItems,totalpage:vm.totalpage})})):http.alert({arent:$element,content:"作业发布失败"}),_context2.next=12;break;case 9:_context2.prev=9,_context2.t0=_context2.catch(2),http.alert({arent:$element,content:"作业发布失败"});case 12:case"end":return _context2.stop()}},_callee2,this,[[2,9]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="publishHomework")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/teacher/homework/teacherHomeworkNavigation/teacherHomeworkNavigation.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){$scope.$on("ready_back",function(){$state.go("teacher.teacherIndex")}),this.$onInit=function(){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="teacherHomeworkNavigation")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/homework/teacherHomeworkResultDetail/teacherHomeworkResultDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){$scope.$on("ready_back",function(){$state.go("teacher.teacherHomeworkResultList",{homeworkId:vm.homework.homeworkID,homeWorkName:vm.homework.homeWorkName})});var vm=this;vm.homework=null,vm.homeworkResultDetail=[],vm.evaluation="",vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.homework={homeworkID:$stateParams.homeworkId,homeWorkName:$stateParams.homeWorkName,studentName:$stateParams.studentName,studentId:$stateParams.studentId},_context.next=4,http.get("GetHomeworkResultDetail",{homeworkResultID:$stateParams.homeworkResultID});case 4:vm.homeworkResultDetail=_context.sent,_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(0),http.alert({parent:$element,content:"获取学生作业结果详情异常"});case 10:case"end":return _context.stop()}},_callee,this,[[0,7]])})),vm.submitEvaluation=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var data,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_context2.prev=0,vm.evaluation&&""!==vm.evaluation.trim()){_context2.next=4;break}return http.alert({parent:$element,content:"请输入评价信息"}),_context2.abrupt("return");case 4:return vm.evaluation=vm.evaluation.trim(),data={studentId:vm.homework.studentId,homeWorkId:vm.homework.homeworkID,evaluation:vm.evaluation},_context2.next=8,http.get("TeacherEvaluation",data);case 8:result=_context2.sent,!0===result?http.alert({parent:$element,content:"提交评价成功"}):http.alert({parent:$element,content:"提交评价失败"}),_context2.next=15;break;case 12:_context2.prev=12,_context2.t0=_context2.catch(0),http.alert({parent:$element,content:"提交评价失败"});case 15:case"end":return _context2.stop()}},_callee2,this,[[0,12]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="teacherHomeworkResultDetail")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/homework/teacherHomeworkResultList/teacherHomeworkResultList.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){$scope.$on("ready_back",function(){$state.go("teacher.homeWorkHistory",{currentPage:vm.currentPage,pageItems:vm.pageItems,totalpage:vm.totalpage})});var vm=this;vm.homework=null,vm.homeworkResultList=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.homework={homeworkID:$stateParams.homeworkId,homeWorkName:$stateParams.homeWorkName},vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage,_context.next=7,http.get("GetHomeworkResult",{homeworkID:vm.homework.homeworkID});case 7:vm.homeworkResultList=_context.sent,vm.homeworkResultList.forEach(function(item){item.homework.time=new Date(item.homework.time.time)}),_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(0),http.alert({parent:$element,content:"获取学生作业情况列表数据异常"});case 14:case"end":return _context.stop()}},_callee,this,[[0,11]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="teacherHomeworkResultList")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/onlineAnswer/onlineAnswer/onlineAnswer.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function previousPage(){vm.currentPage--,getClassQuestion()}function nextPage(){vm.currentPage++,getClassQuestion()}var getClassQuestion=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result,_this=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return console.log(vm.currentClass),_context3.next=3,http.get("GetClassQuestion",{classID:vm.currentClass,currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:result=_context3.sent,vm.questionsList=result,0===result.length&&(vm.questionsList.totalpage=0),0!==result.length&&(vm.questionsList.totalpage=Math.ceil(result[0].count/vm.pageItems),vm.questionsList.forEach(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(item){var studentInfo;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return item.createTime=new Date(item.createTime.time),_context2.next=3,http.get("GetStudents",{userID:item.studentId});case 3:studentInfo=_context2.sent,0!==studentInfo.length&&(item.studentName=studentInfo[0].realName);case 5:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}()));case 7:case"end":return _context3.stop()}},_callee3,this)}));return function(){return _ref2.apply(this,arguments)}}();$scope.$on("ready_back",function(){$state.go("teacher.onlineanswerNavigation")});var vm=this;vm.questionsList=null,vm.currentClass=null,vm.currentPage=1,vm.pageItems=7,vm.previousPage=previousPage,vm.nextPage=nextPage,vm.getClassQuestion=getClassQuestion,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var classes;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,http.get("GetTeacherClasses");case 2:classes=_context.sent,vm.classes=classes,null!=$stateParams.currentClass?(vm.currentClass=$stateParams.currentClass,vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage):vm.currentClass=vm.classes[0].classes.classId,getClassQuestion();case 6:case"end":return _context.stop()}},_callee,this)}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="onlineAnswer")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/onlineAnswer/teacherOnlineAnswerDetail/teacherOnlineAnswerDetail.html",controller:["$scope","$cookies","$element","$state","http","$stateParams","$mdDialog",controller]})}function controller($scope,$cookies,$element,$state,http,$stateParams,$mdDialog){function init(){vm.onlineQuesionsDetail=$stateParams.onlineQuestionsDetail,vm.currentClass=$stateParams.currentClass,vm.isHistroy=$stateParams.isHistroy,vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage,vm.userinfo=$cookies.getObject("userInfo"),vm.userinfoId=parseInt(vm.userinfo.id),getQuestionReply();var imgInput=document.getElementsByClassName("js_reply_imgs")[0];angular.element(imgInput).bind("change",onSelectImg)}function previousPage(){vm.currentReplyPage--,getQuestionReply()}function nextPage(){vm.currentReplyPage++,getQuestionReply()}function onSelectImg(event){var img=document.getElementsByClassName("js_reply_img_preview")[0],files=event.target.files;if(0===files.length)return void(img.src="");var file=files[0],reader=new FileReader;reader.onload=function(e){img.src=e.target.result},reader.readAsDataURL(file)}var postReply=function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var content,userInfo,data,imgInput,formData,imgResult,result;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(null!==(content=vm.answerContent)&&""!==content&&void 0!==content){_context.next=4;break}return http.alert({parent:$element,content:"请输入内容"}),_context.abrupt("return");case 4:if(http.wait(),userInfo=$cookies.getObject("userInfo"),data={answer:vm.answerContent,questionID:$stateParams.onlineQuestionsDetail.id,img:"",answerID:userInfo.id,type:userInfo.type},imgInput=document.getElementsByClassName("js_reply_imgs")[0],!(imgInput.files.length>0)){_context.next=23;break}return _context.prev=9,formData=new FormData,formData.append("img",imgInput.files[0]),_context.next=14,http.submitForm("UploadImage",formData);case 14:imgResult=_context.sent,data.img=imgResult,_context.next=23;break;case 18:return _context.prev=18,_context.t0=_context.catch(9),$mdDialog.hide(),http.alert({parent:$element,content:"图片上传失败"}),_context.abrupt("return");case 23:return _context.prev=23,_context.next=26,http.post("ReplyStudentQuestion",data);case 26:result=_context.sent,!0===result?($mdDialog.hide(),http.alert({parent:$element,content:"回复成功"}).then(function(){vm.answerContent="",imgInput.value="",document.getElementsByClassName("js_reply_img_preview")[0].src="",vm.isShow=!1}),getQuestionReply()):($mdDialog.hide(),http.alert({parent:$element,content:"回复失败"})),_context.next=34;break;case 30:_context.prev=30,_context.t1=_context.catch(23),$mdDialog.hide(),http.alert({parent:$element,content:"回复失败"});case 34:case"end":return _context.stop()}},_callee,this,[[9,18],[23,30]])}));return function(){return _ref.apply(this,arguments)}}(),getQuestionReply=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result,_this=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,http.get("getQuestionAnswer",{questionID:vm.onlineQuesionsDetail.id,currentPage:vm.currentReplyPage,pageItems:vm.replyPageItem});case 3:result=_context3.sent,vm.replyList=result,0===result.length&&(vm.replyList.totalReplypage=0),0!==result.length&&(vm.replyList.totalReplypage=Math.ceil(result[0].count/vm.replyPageItem),vm.replyList.forEach(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(item){var studentInfo,teacherInfo;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(item.answerTime=new Date(item.answerTime.time),0!==item.type){_context2.next=8;break}return _context2.next=4,http.get("GetStudents",{userID:item.answerId});case 4:studentInfo=_context2.sent,0!==studentInfo.length&&(item.realName=studentInfo[0].realName),_context2.next=12;break;case 8:return _context2.next=10,http.get("GetTeachers",{userID:item.answerId});case 10:teacherInfo=_context2.sent,0!==teacherInfo.length&&(item.realName=teacherInfo[0].realName);case 12:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}())),_context3.next=13;break;case 9:return _context3.prev=9,_context3.t0=_context3.catch(0),http.alert({parent:$element,content:"获取回复失败,"+_context3.t0}),_context3.abrupt("return");case 13:case"end":return _context3.stop()}},_callee3,this,[[0,9]])}));return function(){return _ref2.apply(this,arguments)}}(),vm=this;vm.$onInit=init,vm.isShow=!1,vm.replyList=null,vm.onlineQuesionsDetail=null,vm.currentClass=null,vm.isHistroy=null,vm.imgUrl=null,vm.postReply=postReply,vm.currentReplyPage=1,vm.replyPageItem=7,vm.previousPage=previousPage,vm.nextPage=nextPage,vm.showReply=function(){vm.isShow=!vm.isShow,vm.msg=""},vm.goToImgUrl=function(img){http.imgDialog(img)},vm.deleleReply=function(){var _ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(replyId,answerId){var userinfo,dialog;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:userinfo=$cookies.getObject("userInfo"),parseInt(userinfo.id)===answerId&&(dialog=http.confirm({parent:$element,content:"是否删除?"}),dialog.then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var result;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,http.get("DeleteReply",{ReplyID:replyId});case 2:result=_context4.sent,!0===result?getQuestionReply():http.alert({parent:$element,content:"删除失败"});case 4:case"end":return _context4.stop()}},_callee4,this)})),function(){}));case 2:case"end":return _context5.stop()}},_callee5,this)}));return function(_x2,_x3){return _ref4.apply(this,arguments)}}(),$scope.$on("ready_back",function(){!0===vm.isHistroy?$state.go("teacher.onlineHistoryAnswer",{currentPage:vm.currentPage,pageItems:vm.pageItems,totalpage:vm.totalpage}):$state.go("teacher.onlineanswer",{currentClass:vm.currentClass,currentPage:vm.currentPage,pageItems:vm.pageItems,totalpage:vm.totalpage})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="teacherOnlineAnswerDetail")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/teacher/onlineAnswer/teacherOnlineAnswerNavigation/teacherOnlineAnswerNavigation.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){$scope.$on("ready_back",function(){$state.go("teacher.teacherIndex")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="teacherOnlineAnswerNavigation")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/onlineAnswer/teacheronlineHistoryAnswer/teacheronlineHistoryAnswer.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function previousPage(){vm.currentPage--,getTeacherQuestion()}function nextPage(){vm.currentPage++,getTeacherQuestion()}var getTeacherQuestion=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result,_this=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,http.get("GetStudentQuestion",{currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:result=_context3.sent,vm.questionsList=result,0!==result.length&&(vm.questionsList.totalpage=Math.ceil(result[0].count/vm.pageItems),vm.questionsList.forEach(function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(item){var studentInfo;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return item.createTime=new Date(item.createTime.time),_context2.next=3,http.get("GetStudents",{userID:item.studentId});case 3:studentInfo=_context2.sent,0!==studentInfo.length&&(item.studentName=studentInfo[0].realName);case 5:case"end":return _context2.stop()}},_callee2,_this)}));return function(_x){return _ref3.apply(this,arguments)}}())),_context3.next=11;break;case 8:_context3.prev=8,_context3.t0=_context3.catch(0),http.alert({parent:$element,content:"获取历史数据失败"});case 11:case"end":return _context3.stop()}},_callee3,this,[[0,8]])}));return function(){return _ref2.apply(this,arguments)}}();$scope.$on("ready_back",function(){$state.go("teacher.onlineanswerNavigation")});var vm=this;vm.currentPage=1,vm.pageItems=7,vm.previousPage=previousPage,vm.nextPage=nextPage,vm.questionsList=null,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:null!==$stateParams.currentPage&&(vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage),getTeacherQuestion();case 2:case"end":return _context.stop()}},_callee,this)}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="teacheronlineHistoryAnswer")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/selfCenter/teacherAssignStudent/teacherAssignStudent.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){$scope.$on("ready_back",function(){$state.go("teacher.center")});var vm=this;vm.msg="",vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.userInfo=$cookies.getObject("userInfo"),_context.next=4,http.get("GetTeacherClasses");case 4:return vm.classes=_context.sent,vm.classes.length>0&&(vm.currentClass=vm.classes[0].classes.classId),_context.next=8,http.get("GetStudents");case 8:vm.students=_context.sent,_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(0),http.alert({parent:$element,content:"加载数据异常"});case 14:case"end":return _context.stop()}},_callee,this,[[0,11]])})),vm.toAssign=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var data,result,students;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return vm.msg="",data={classId:vm.currentClass,studentIds:[]},vm.students.forEach(function(student){!0===student.isCheck&&data.studentIds.push(student.userID)}),_context2.next=5,http.post("AssignStudent",data);case 5:result=_context2.sent,!0===result?http.alert({parent:$element,content:"分配班级成功"}):!1===result?http.alert({parent:$element,content:"分配班级失败"}):(students=vm.students.find(function(item){return result.userID===item.userID}),http.alert({parent:$element,content:students.realName+"已加入该班级"}));case 7:case"end":return _context2.stop()}},_callee2,this)}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="teacherAssignStudent")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/teacher/selfCenter/teacherCenter/teacherCenter.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){var vm=this;$scope.$on("ready_back",function(){$state.go("teacher.teacherIndex")}),vm.$onInit=function(){vm.userInfo=$cookies.getObject("userInfo")},vm.logout=function(){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="teacherCenter")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/selfCenter/teacherClassStudent/teacherClassStudent.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){var vm=this;vm.classStudent=null;var classId=null;vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return classId=$stateParams.classId,_context.prev=1,_context.next=4,http.get("GetAllClassStudent",{classId:classId});case 4:vm.classStudent=_context.sent,_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(1),http.alert({parent:$element,content:"加载数据异常异常"});case 10:case"end":return _context.stop()}},_callee,this,[[1,7]])})),$scope.$on("ready_back",function(){$state.go("teacher.teacherManagerClassCreate")}),vm.deleteStudent=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(userId){var dialog;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:dialog=http.confirm({parent:$element,content:"是否删除?"}),dialog.then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,http.get("updateStudentClass",{studentId:userId,classId:classId,typeId:0});case 2:if(!0!==(result=_context2.sent)){_context2.next=10;break}return http.alert({parent:$element,content:"删除成功"}),_context2.next=7,http.get("GetAllClassStudent",{classId:classId});case 7:vm.classStudent=_context2.sent,_context2.next=11;break;case 10:http.alert({parent:$element,content:"删除失败"});case 11:case"end":return _context2.stop()}},_callee2,this)})),function(){});case 2:case"end":return _context3.stop()}},_callee3,this)}));return function(_x){return _ref2.apply(this,arguments)}}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="teacherClassStudent")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/selfCenter/teacherManagerClassCreate/teacherManagerClassCreate.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function checkClass(className){return null!==className&&void 0!==className&&""!==className}$scope.$on("ready_back",function(){$state.go("teacher.center")});var vm=this;vm.classInfo={className:""},vm.msg="",vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var classes;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,vm.userInfo=$cookies.getObject("userInfo"),_context.next=4,http.get("GetAllSubject");case 4:return vm.subjectlist=_context.sent,_context.next=7,http.get("GetTeacherClasses");case 7:classes=_context.sent,vm.classes=classes,vm.subjectlist.length>0&&(vm.currentSubject=vm.subjectlist[0].SubjectID),_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(0),http.alert({parent:$element,content:"加载数据异常异常"});case 15:case"end":return _context.stop()}},_callee,this,[[0,12]])})),vm.create=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!0!==checkClass(vm.classInfo.className)){_context2.next=13;break}return _context2.prev=1,_context2.next=4,http.get("CreateClass",{className:vm.classInfo.className,subjectID:vm.currentSubject});case 4:result=_context2.sent,!0===result?http.alert({parent:$element,content:"班级创建成功"}):http.alert({parent:$element,content:"该班级已存在"}),_context2.next=11;break;case 8:_context2.prev=8,_context2.t0=_context2.catch(1),http.alert({parent:$element,content:"班级创建失败"});case 11:_context2.next=14;break;case 13:http.alert({parent:$element,content:"班级名不能为空！"});case 14:case"end":return _context2.stop()}},_callee2,this,[[1,8]])})),vm.deleteClass=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(classId){var dialog;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:dialog=http.confirm({parent:$element,content:"是否删除?"}),dialog.then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var userInfo,result,classes;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return userInfo=$cookies.getObject("userInfo"),_context3.next=3,http.get("DeleteTeacherClass",{teacherId:userInfo.id,classId:classId});case 3:if(!0!==(result=_context3.sent)){_context3.next=12;break}return http.alert({parent:$element,content:"班级删除成功！"}),_context3.next=8,http.get("GetTeacherClasses");case 8:classes=_context3.sent,vm.classes=classes,_context3.next=13;break;case 12:http.alert({parent:$element,content:"删除失败！"});case 13:case"end":return _context3.stop()}},_callee3,this)})),function(){});case 2:case"end":return _context4.stop()}},_callee4,this)}));return function(_x){return _ref3.apply(this,arguments)}}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="teacherManagerClassCreate")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/selfCenter/teacherUserInfo/teacherUserInfo.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){var init=function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var user,userInfo,classes;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,user=$cookies.getObject("userInfo"),_context.next=4,http.get("GetUserInfoByName",{user_number:user.teacher_number,type:user.type});case 4:return userInfo=_context.sent,_context.next=7,http.get("GetTeacherClasses");case 7:classes=_context.sent,vm.userInfo=userInfo,vm.classes=classes,_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(0),http.alert({parent:$element,content:"加载个人信息异常"});case 15:case"end":return _context.stop()}},_callee,this,[[0,12]])}));return function(){return _ref.apply(this,arguments)}}();$scope.$on("ready_back",function(){$state.go("teacher.center")});var vm=this;vm.$onInit=init(),vm.classes=[],vm.userInfo={teacher_number:"",realName:"",password:"",subjectID:"",teacherID:""},vm.updateinfo=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var data,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,data={teacher_number:vm.userInfo.teacher_number,realName:vm.userInfo.realName,password:vm.userInfo.password,teacherID:vm.userInfo.userID},_context2.next=4,http.post("UpdateTeacher",data);case 4:result=_context2.sent,1==result?http.alert({parent:$element,content:"修改成功"}):http.alert({parent:$element,content:"修改失败"}),_context2.next=11;break;case 8:_context2.prev=8,_context2.t0=_context2.catch(0),http.alert({parent:$element,content:"更新信息异常"});case 11:case"end":return _context2.stop()}},_callee2,this,[[0,8]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="teacherUserInfo")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/teacher/teacherIndexHead/teacherIndexHead.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){var vm=this;vm.$onInit=function(){vm.userInfo=$cookies.getObject("userInfo")},vm.logout=function(){$state.go("login")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="teacherIndexHead")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/teacher/teacherIndex/teacherIndex.html",controller:["$scope","$rootScope","$element","$state",controller]})}function controller($scope,$rootScope,$element,$state){this.$onInit=function(){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="teacherIndex")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/teacherUploadFile/teacherUploadFile.html",controller:["$scope","$rootScope","$element","$state","$cookies","$transitions","http",controller]})}function controller($scope,$rootScope,$element,$state,$cookies,$transitions,http){function findFileInput(){return angular.element(document.getElementsByClassName("js_file"))}function onSelectFile(event){var files=event.target.files;if(0!==files.length){var file=files[0],reader=new FileReader;reader.onload=function(e){},reader.readAsDataURL(file)}}var vm=this;vm.progress=0,vm.$onInit=function(){findFileInput().eq(0).bind("change",onSelectFile)},vm.uploadFile=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var uploadFile,file,i,formData,result;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:for(uploadFile=[],uploadFile=findFileInput(),file=[],i=0;i<uploadFile.length;i++)void 0!==uploadFile[i].files[0]&&file.push(uploadFile[i].files[0]);for(formData=new FormData,i=0;i<file.length;i++)formData.append("uploadFile"+i,file[i]),formData.append("isImg",!1);if(_context.prev=6,0==file.length){_context.next=12;break}return _context.next=10,http.submitForm("UploadFile",formData,{progress:function(e){e.lengthComputable&&(vm.progress=Math.round(e.loaded/e.total*100))}});case 10:result=_context.sent,null!=result&&http.alert({parent:$element,content:"上传文件成功"});case 12:_context.next=18;break;case 14:_context.prev=14,_context.t0=_context.catch(6),console.log(_context.t0),http.alert({parent:$element,content:"上传文件失败"});case 18:case"end":return _context.stop()}},_callee,this,[[6,14]])})),$scope.$on("ready_back",function(){$state.go("teacher.teacherIndex")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="teacherUploadFile")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/testpaper/paperDetail/paperDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){$scope.$on("ready_back",function(){$state.go("teacher.publishPaper",{currentPage:vm.currentPage,pageItems:vm.pageItems,totalpage:vm.totalpage})});var vm=this;vm.msg="",vm.paper={},vm.paperDetail=null,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(vm.paper={testName:$stateParams.testName,testpaperID:$stateParams.testpaperID},vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage,null!==vm.paper&&null!==vm.paper.testpaperID){_context.next=6;break}return _context.abrupt("return");case 6:return _context.prev=6,_context.next=9,http.get("GetPaperDetail",{paperID:vm.paper.testpaperID});case 9:vm.paperDetail=_context.sent,_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(6),http.alert({parent:$element,content:"获取试卷详情异常"});case 15:case"end":return _context.stop()}},_callee,this,[[6,12]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="paperDetail")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/testpaper/paperResultDetail/paperResultDetail.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){$scope.$on("ready_back",function(){$state.go("teacher.paperResult",{testpaperID:vm.paperResult.testpaperID,testName:vm.paperResult.testName})});var vm=this;vm.msg="",vm.paperResult=null,vm.paperResultList=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return vm.paperResult={id:$stateParams.resultId,testpaperID:$stateParams.testpaperID,testName:$stateParams.testName},_context.prev=1,_context.next=4,http.get("GetPaperResultDetail",{paperResultID:vm.paperResult.id});case 4:vm.paperResultList=_context.sent,_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(1),http.alert({parent:$element,content:"获取试卷作答结果详情异常"});case 10:case"end":return _context.stop()}},_callee,this,[[1,7]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="paperResultDetail")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/testpaper/paperResult/paperResult.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){$scope.$on("ready_back",function(){$state.go("teacher.publishPaper",{currentPage:vm.currentPage,pageItems:vm.pageItems,totalpage:vm.totalpage})});var vm=this;vm.msg="",vm.paper=null,vm.paperResultList=[],vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(vm.paper={testName:$stateParams.testName,testpaperID:$stateParams.testpaperID},vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage,null!==vm.paper&&null!==vm.paper.testpaperID){_context.next=6;break}return _context.abrupt("return");case 6:return _context.prev=6,_context.next=9,http.get("GetPaperResult",{paperID:vm.paper.testpaperID});case 9:vm.paperResultList=_context.sent,_context.next=15;break;case 12:_context.prev=12,_context.t0=_context.catch(6),http.alert({parent:$element,content:"获取试卷作答结果异常"});case 15:case"end":return _context.stop()}},_callee,this,[[6,12]])}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="paperResult")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/testpaper/publishPaper/publishPaper.html",controller:["$scope","$element","$state","$cookies","http","$stateParams",controller]})}function controller($scope,$element,$state,$cookies,http,$stateParams){function previousPage(){vm.currentPage--,getPaper()}function nextPage(){vm.currentPage++,getPaper()}var getPaper=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,http.get("GetPaper",{currentPage:vm.currentPage,pageItems:vm.pageItems});case 3:vm.papers=_context2.sent,vm.papers.forEach(function(item){item.createTime=new Date(item.createTime.time)}),0===vm.papers.length&&(vm.papers.totalpage=0),0!==vm.papers.length&&(vm.papers.totalpage=Math.ceil(vm.papers[0].count/vm.pageItems)),_context2.next=12;break;case 9:_context2.prev=9,_context2.t0=_context2.catch(0),http.alert({parent:$element,content:"获取试卷信息异常"});case 12:case"end":return _context2.stop()}},_callee2,this,[[0,9]])}));return function(){return _ref2.apply(this,arguments)}}();$scope.$on("ready_back",function(){$state.go("teacher.paper")});var vm=this;vm.papers=[],vm.msg="",vm.paperLink=null,vm.isDownload=!1,vm.currentPage=1,vm.pageItems=7,vm.previousPage=previousPage,vm.nextPage=nextPage,vm.getPaper=getPaper,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:null!=$stateParams.currentPage&&(vm.currentPage=$stateParams.currentPage,vm.pageItems=$stateParams.pageItems,vm.totalpage=$stateParams.totalpage),getPaper();case 2:case"end":return _context.stop()}},_callee,this)})),vm.deletePaper=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(paperId){var dialog;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:dialog=http.confirm({parent:$element,content:"是否删除该试卷?"}),dialog.then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var result;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,http.get("DeletePaper",{paperID:paperId});case 2:result=_context3.sent,!0===result?(http.alert({parent:$element,content:"试卷删除成功"}),getPaper()):http.alert({parent:$element,content:"删除失败"});case 4:case"end":return _context3.stop()}},_callee3,this)})),function(){});case 2:case"end":return _context4.stop()}},_callee4,this)}));return function(_x){return _ref3.apply(this,arguments)}}(),vm.publishPaper=function(){var _ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(paper){var result;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,_context5.next=3,http.get("PublishPaper",{paperID:paper.testpaperID});case 3:result=_context5.sent,!0===result?(http.alert({parent:$element,content:"发布试卷成功"}),getPaper()):http.alert({parent:$element,content:"发布试卷失败"}),_context5.next=10;break;case 7:_context5.prev=7,_context5.t0=_context5.catch(0),http.alert({parent:$element,content:"发布试卷失败"});case 10:case"end":return _context5.stop()}},_callee5,this,[[0,7]])}));return function(_x2){return _ref5.apply(this,arguments)}}(),vm.downloadPaper=function(){var _ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(paperId){var result,dialog;return _regenerator2.default.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,http.get("DownLoadPaper",{paperID:paperId});case 2:result=_context7.sent,vm.paperLink=result,dialog=http.confirm({parent:$element,content:"试卷生成成功，文件路径如下：\n"+vm.paperLink+"\n"}),dialog.then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(){var downLink,event;return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:downLink=document.getElementById("download_paper"),event=document.createEvent("MouseEvents"),event.initEvent("click",!1,!1),downLink.dispatchEvent(event);case 4:case"end":return _context6.stop()}},_callee6,this)})),function(){});case 6:case"end":return _context7.stop()}},_callee7,this)}));return function(_x3){return _ref6.apply(this,arguments)}}()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="publishPaper")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/teacher/testpaper/teacherPaperNavigation/teacherPaperNavigation.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){$scope.$on("ready_back",function(){$state.go("teacher.teacherIndex")}),this.$onInit=function(){}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="teacherPaperNavigation")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function root(app){app.component(name,{templateUrl:"./component/teacher/testpaper/teacherPaper/teacherPaper.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){function previousPage(){vm.currentPage--,getQuestions()}function nextPage(){vm.currentPage++,getQuestions()}function mergeData(){vm.allQuestion.map(function(item){var find=vm.paper.papertitles.find(function(tItem){return tItem.itemId===item.itemId});find&&(item.isChecked=!0,item.score=find.score)})}var getQuestions=function(){var _ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(){var result;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return result=null,_context5.prev=1,_context5.next=4,http.get("GetQuestions",{subjectId:vm.currentSubject,type:vm.currentType,currentPage:vm.currentPage,pageItems:vm.pageItems});case 4:result=_context5.sent,vm.allQuestion=result,0===vm.allQuestion.length&&(vm.allQuestion.totalpage=0),0!==vm.allQuestion.length&&(vm.allQuestion.totalpage=Math.ceil(vm.allQuestion[0].count/vm.pageItems)),mergeData(),vm.allQuestion.forEach(function(item){"score"in item==!1&&(item.score=5)}),_context5.next=15;break;case 12:_context5.prev=12,_context5.t0=_context5.catch(1),http.alert({parent:$element,content:"获取题目数据异常"});case 15:return _context5.abrupt("return",result);case 16:case"end":return _context5.stop()}},_callee5,this,[[1,12]])}));return function(){return _ref5.apply(this,arguments)}}();$scope.$on("ready_back",function(){$state.go("teacher.paper")});var vm=this;vm.types=[{label:"选择题",value:1},{label:"判断题",value:2},{label:"简答题",value:3}],vm.currentType=1,vm.questions=[],vm.allQuestion=[],vm.currentPage=1,vm.pageItem=5,vm.maxSize=5,vm.msg="",vm.currentSubject=null,vm.subjectlist=null,vm.currentPage=1,vm.pageItems=5,vm.previousPage=previousPage,vm.nextPage=nextPage,vm.$onInit=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,http.get("GetTeacherSubject");case 3:vm.subjectlist=_context.sent,0!==vm.subjectlist.length&&(vm.currentSubject=vm.subjectlist[0].SubjectID,vm.getQuestionByType()),_context.next=10;break;case 7:_context.prev=7,_context.t0=_context.catch(0),http.alert({parent:$element,content:"初始化页面异常"});case 10:case"end":return _context.stop()}},_callee,this,[[0,7]])})),vm.paper={subjectId:null,papername:(new Date).toLocaleString(),papertitles:[]},vm.createPager=function(){vm.msg="";var count=vm.paper.papertitles.length,totalScore=0;return vm.paper.subjectId=vm.currentSubject,vm.paper.papertitles.forEach(function(item){totalScore+=item.score}),0===count||0===totalScore?void http.alert({parent:$element,content:"请选择题目且合理配置试卷分数"}):100!==totalScore?void http.alert({parent:$element,content:"试卷总分需为100分!,目前为"+totalScore+"分"}):void http.confirm({parent:$element,content:"确定创建试卷?共"+count+"道题,共"+totalScore+"分"}).then((0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,http.post("CreatePaper",vm.paper);case 3:result=_context2.sent,http.alert({parent:$element,content:"创建试卷成功"}).then(function(){$state.go("teacher.publishPaper")},function(){$state.go("teacher.publishPaper")}),_context2.next=10;break;case 7:_context2.prev=7,_context2.t0=_context2.catch(0),http.alert({parent:$element,content:"创建试卷失败"});case 10:case"end":return _context2.stop()}},_callee2,this,[[0,7]])})),function(){})},vm.getQuestionByType=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){var rs;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(0===vm.subjectlist.length){_context3.next=4;break}return _context3.next=3,getQuestions();case 3:rs=_context3.sent;case 4:case"end":return _context3.stop()}},_callee3,this)})),vm.getQuestionBySubject=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var rs;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(0===vm.subjectlist.length){_context4.next=4;break}return _context4.next=3,getQuestions();case 3:rs=_context4.sent;case 4:case"end":return _context4.stop()}},_callee4,this)})),vm.append=function(question){!0===question.isChecked?vm.paper.papertitles.push({itemId:question.itemId,score:question.score}):vm.paper.papertitles=vm.paper.papertitles.filter(function(item){return item.itemId!==question.itemId})},vm.questionScoreChange=function(question){var find=vm.paper.papertitles.find(function(item){return item.itemId===question.itemId});find&&(find.score=question.score)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0;var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=root;var name=(__webpack_require__(0),exports.name="teacherPaper")},function(module,exports,__webpack_require__){"use strict";function root(app){app.component(name,{templateUrl:"./component/tophead/tophead.html",controller:["$scope","$element","$state","$cookies","http",controller]})}function controller($scope,$element,$state,$cookies,http){var vm=this,isTest=!1;vm.$onInit=function(){vm.userInfo=$cookies.getObject("userInfo")},vm.goBack=function(){$scope.$emit("request_back")},$scope.$on("testpaper",function(){isTest=!0}),vm.goHomePage=function(){!0===isTest?$scope.$emit("homepage_back"):$state.go("student.studentIndex")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.name=void 0,exports.default=root;var name=(__webpack_require__(0),exports.name="tophead")},function(module,exports,__webpack_require__){"use strict";function routerConfig($stateProvider){[{name:"login",url:"/login",views:{content:{component:"login"}}},{name:"student",url:"/student",abstract:!0},{name:"student.studentIndex",url:"/studentIndex",views:{"head@":{component:"studentIndexHead"},"content@":{component:"studentIndex"}}},{name:"student.register",url:"/register",views:{"content@":{component:"registerStudent"}}},{name:"student.test",url:"/test",views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentTest"}}},{name:"student.studentTestPaperList",url:"/studentTestPaperList",params:{SubjectName:null,SubjectID:null,teacherID:null,currentUnfinishPage:null,pageItems:null,currentFinishPage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentTestPaperList"}}},{name:"student.studentTestPaper",url:"/studentTestPaper",params:{SubjectName:null,SubjectID:null,teacherID:null,testpaperID:null,testName:null,currentUnfinishPage:null,pageItems:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentTestPaper"}}},{name:"student.studentTestPaperResultDetail",url:"/studentTestPaperResultDetail",params:{SubjectName:null,SubjectID:null,teacherID:null,testpaperID:null,paperResultID:null,pageItems:null,currentFinishPage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentTestPaperResultDetail"}}},{name:"student.homework",url:"/homework",params:{SubjectName:null,SubjectID:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentHomework"}}},{name:"student.studentHomeworkList",url:"/studentHomeworkList",params:{SubjectName:null,SubjectID:null,currentUnfinishPage:null,pageItems:null,currentFinishPage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentHomeworkList"}}},{name:"student.studentHomeworkDetail",url:"/studentHomeworkDetail",params:{homeWorkName:null,homeworkId:null,SubjectID:null,SubjectName:null,currentUnfinishPage:null,pageItems:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentHomeworkDetail"}}},{name:"student.studentHomeworkResultDetail",url:"/studentHomeworkResultDetail",params:{homeWorkName:null,homeworkId:null,SubjectID:null,SubjectName:null,currentFinishPage:null,pageItems:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentHomeworkResultDetail"}}},{name:"student.question",url:"/question",views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentOnlineNavigation"}}},{name:"student.onlineQuestion",url:"/onlineQuestion",params:{currentClass:null,currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"onlineQuestion"}}},{name:"student.postQuestion",url:"/postQuestion",views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentPostQuestion"}}},{name:"student.studentOnlineAnswerDetail",url:"/studentOnlineAnswerDetail",params:{onlineQuestionsDetail:null,currentClass:null,isHistroy:null,currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentOnlineAnswerDetail"}}},{name:"student.studentQuestionHistory",url:"/studentQuestionHistory",params:{currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentQuestionHistory"}}},{name:"student.news",url:"/news",params:{currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"schoolNews"}}},{name:"student.courceRescource",url:"/courceRescource",views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"courceRescource"}}},{name:"student.newsDetail",url:"/newsDetail",params:{newsDetail:null,currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"schoolNewsDetail"}}},{name:"student.center",url:"/center",views:{"head@":{component:"tophead"},"sidebar@":{component:"studentSidebar"},"content@":{component:"studentCenter"}}},{name:"teacher",url:"/teacher",abstract:!0},{name:"teacher.teacherIndex",url:"/teacherIndex",views:{"head@":{component:"teacherIndexHead"},"content@":{component:"teacherIndex"}}},{name:"teacher.register",url:"/register",views:{"content@":{component:"registerTeacher"}}},{name:"teacher.paper",url:"/paper",views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherPaperNavigation"}}},{name:"teacher.paperCreate",url:"/paperCreate",views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherPaper"}}},{name:"teacher.publishPaper",url:"/publishPaper",params:{currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"publishPaper"}}},{name:"teacher.paperDetail",url:"/paperDetail",params:{testpaperID:null,testName:null,currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"paperDetail"}}},{name:"teacher.paperResult",url:"/paperResult",params:{testpaperID:null,testName:null,currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"paperResult"}}},{name:"teacher.paperResultDetail",url:"/paperResultDetail",params:{resultId:null,testpaperID:null,testName:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"paperResultDetail"}}},{name:"teacher.center",url:"/center",views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherCenter"}}},{name:"teacher.homeworkDetail",url:"/homeworkDetail",params:{homeWorkName:null,homeworkId:null,currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"homeworkDetail"}}},{name:"teacher.teacherManagerClassCreate",url:"/teacherManagerClassCreate",views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherManagerClassCreate"}}},{name:"teacher.teacherAssignStudent",url:"/teacherAssignStudent",views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherAssignStudent"}}},{name:"teacher.classStudent",url:"/classStudent/{classId}",params:{classId:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherClassStudent"}}},{name:"teacher.teacherUploadFile",url:"/teacherUploadFile",views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherUploadFile"}}},{name:"teacher.homework",url:"/homework",views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherHomeworkNavigation"}}},{name:"teacher.homeworkCreate",url:"/homeworkCreate",views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"homeworkCreate"}}},{name:"teacher.homeWorkHistory",url:"/homeWorkHistory",params:{currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"homeWorkHistory"}}},{name:"teacher.publishHomework",url:"/publishHomework",params:{homeworkId:null,subjectId:null,currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"publishHomework"}}},{name:"teacher.teacherHomeworkResultList",url:"/teacherHomeworkResultList",params:{homeworkId:null,homeWorkName:null,currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherHomeworkResultList"}}},{name:"teacher.teacherHomeworkResultDetail",url:"/teacherHomeworkResultDetail/{homeworkId}/{homeWorkName}/{homeworkResultID}/{studentName}/{studentId}",params:{homeworkId:null,homeWorkName:null,homeworkResultID:null,studentName:null,studentId:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherHomeworkResultDetail"}}},{name:"teacher.onlineanswerNavigation",url:"/onlineanswerNavigation",views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherOnlineAnswerNavigation"}}},{name:"teacher.onlineanswer",url:"/onlineanswer",params:{currentClass:null,currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"onlineAnswer"}}},{name:"teacher.onlineAnswerDetail",url:"/onlineAnswerDetail",params:{onlineQuestionsDetail:null,currentClass:null,isHistroy:null,currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherOnlineAnswerDetail"}}},{name:"teacher.onlineHistoryAnswer",url:"/onlineHistoryAnswer",params:{currentPage:null,pageItems:null,totalpage:null},views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacheronlineHistoryAnswer"}}},{name:"teacher.UserInfo",url:"/UserInfo",views:{"head@":{component:"tophead"},"sidebar@":{component:"teacherSidebar"},"content@":{component:"teacherUserInfo"}}},{name:"admin",url:"/admin",abstract:!0},{name:"admin.center",url:"/center",views:{"head@":{component:"tophead"},"content@":{component:"adminCenter"}}}].forEach(function(state){$stateProvider.state(state)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.routerConfig=routerConfig},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function httpService(app){app.factory("http",["$q","$http","$httpParamSerializerJQLike","$rootScope","$mdDialog",serviceFunc])}function serviceFunc($q,$http,$httpParamSerializerJQLike,$rootScope,$mdDialog){function alert(config){var parentEle=config.parent,title=config.title||"提示信息",content=config.content,okBtn=config.okBtn||"确定",event=config.event||null,alertDialog=$mdDialog.alert().parent(parentEle).clickOutsideToClose(!1).title(title).textContent(content).ok(okBtn).targetEvent(event);return $mdDialog.show(alertDialog)}function confirm(config){var parentEle=config.parent,title=config.title||"确认信息",content=config.content,okBtn=config.okBtn||"确定",event=config.event||null,confirmDialog=$mdDialog.confirm().parent(parentEle).clickOutsideToClose(!1).title(title).textContent(content).ok(okBtn).cancel("取消").targetEvent(event);return $mdDialog.show(confirmDialog)}function wait(){return $mdDialog.show({controller:[function(){}],templateUrl:"./component/ImgDialog/loadDailog.html",parent:angular.element(document.body)})}function imgDialog(imgUrl){return $mdDialog.show({controller:["$scope","$mdDialog","imgUrl",imgDialogCtrler],templateUrl:"./component/ImgDialog/ImgDialog.html",parent:angular.element(document.body),locals:{imgUrl:imgUrl}})}function imgDialogCtrler($scope,$mdDialog,imgUrl){$scope.imgUrl=imgUrl,$scope.ok=function(){$mdDialog.hide()}}function getColor(){var r=Math.round(Math.random()*(colors.length-1));return colors[r]}var submitForm=function(){var _ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(url,data,config){var deferred,response,result;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return url=baseUrl+url,deferred=$q.defer(),response=null,config=config||{},_context.prev=4,_context.next=7,$http({method:"POST",url:url,data:data,headers:{"Content-Type":void 0},transformRequest:angular.identity,uploadEventHandlers:config});case 7:response=_context.sent,result=response.data,0===result.code?deferred.resolve(result.data):deferred.reject(result.message),_context.next=16;break;case 12:_context.prev=12,_context.t0=_context.catch(4),console.log(_context.t0),deferred.reject("操作失败");case 16:return _context.prev=16,window.setTimeout(function(){$rootScope.$applyAsync(null)},0),_context.finish(16);case 19:return _context.abrupt("return",deferred.promise);case 20:case"end":return _context.stop()}},_callee,this,[[4,12,16,19]])}));return function(_x,_x2,_x3){return _ref.apply(this,arguments)}}(),post=function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(url,data,headers){var deferred,response,result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return url=baseUrl+url,url+="?_t="+Date.now(),headers=headers||{},deferred=$q.defer(),response=null,_context2.prev=5,_context2.next=8,$http({method:"POST",url:url,data:data,headers:headers});case 8:response=_context2.sent,result=response.data,0===result.code?deferred.resolve(result.data):deferred.reject(result.message),_context2.next=17;break;case 13:_context2.prev=13,_context2.t0=_context2.catch(5),console.log(_context2.t0),deferred.reject("操作失败");case 17:return _context2.prev=17,window.setTimeout(function(){$rootScope.$applyAsync(null)},0),_context2.finish(17);case 20:return _context2.abrupt("return",deferred.promise);case 21:case"end":return _context2.stop()}},_callee2,this,[[5,13,17,20]])}));return function(_x4,_x5,_x6){return _ref2.apply(this,arguments)}}(),get=function(){var _ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(url,data){var deferred,response,result;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return url=baseUrl+url,url+="?_t="+Date.now(),deferred=$q.defer(),response=null,_context3.prev=4,_context3.next=7,$http({method:"GET",url:url,params:data});case 7:response=_context3.sent,result=response.data,0===result.code?deferred.resolve(result.data):deferred.reject(result.message),_context3.next=16;break;case 12:_context3.prev=12,_context3.t0=_context3.catch(4),console.log(_context3.t0),deferred.reject("操作失败");case 16:return _context3.prev=16,window.setTimeout(function(){$rootScope.$applyAsync(null)},0),_context3.finish(16);case 19:return _context3.abrupt("return",deferred.promise);case 20:case"end":return _context3.stop()}},_callee3,this,[[4,12,16,19]])}));return function(_x7,_x8){return _ref3.apply(this,arguments)}}(),baseUrl="http://192.168.191.3:8080/StudyPlatform/",service={post:post,get:get,alert:alert,confirm:confirm,wait:wait,submitForm:submitForm,imgDialog:imgDialog,getColor:getColor},colors=["pink-200","purple-200","deep-purple-200","indigo-200","blue-400","light-blue-A200"];return service}Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator=__webpack_require__(2),_regenerator2=_interopRequireDefault(_regenerator),_asyncToGenerator2=__webpack_require__(1),_asyncToGenerator3=_interopRequireDefault(_asyncToGenerator2);exports.default=httpService},,,,,,,,function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(151),__esModule:!0}},,,,,,,,,function(module,exports,__webpack_require__){__webpack_require__(188),module.exports=__webpack_require__(3).Object.assign},,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var getKeys=__webpack_require__(16),gOPS=__webpack_require__(48),pIE=__webpack_require__(33),toObject=__webpack_require__(17),IObject=__webpack_require__(46),$assign=Object.assign;module.exports=!$assign||__webpack_require__(14)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},,,,,,,,,,function(module,exports,__webpack_require__){var $export=__webpack_require__(6);$export($export.S+$export.F,"Object",{assign:__webpack_require__(178)})},,,,,,,,,,,,,,,function(module,exports,__webpack_require__){(function(global){var g="object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this,hadRuntime=g.regeneratorRuntime&&Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime")>=0,oldRuntime=hadRuntime&&g.regeneratorRuntime;if(g.regeneratorRuntime=void 0,module.exports=__webpack_require__(204),hadRuntime)g.regeneratorRuntime=oldRuntime;else try{delete g.regeneratorRuntime}catch(e){g.regeneratorRuntime=void 0}}).call(exports,__webpack_require__(59))},function(module,exports,__webpack_require__){(function(global){!function(global){"use strict";function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=makeInvokeMethod(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}"object"==typeof global.process&&global.process.domain&&(invoke=global.process.domain.bind(invoke));var previousPromise;this._invoke=enqueue}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)return void(inModule&&(module.exports=runtime));runtime=global.regeneratorRuntime=inModule?module.exports:{},runtime.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootEntry=this.tryEntries[0],rootRecord=rootEntry.completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}if(this.done)throw exception;for(var context=this,i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this)}).call(exports,__webpack_require__(59))}],[0]);